import{j as h}from"./chunk-GDYXRNEI.js";import{$ as a,T as i,U as p,W as f,_ as O,ca as y}from"./chunk-7T747AWH.js";import{a as s,b as l,ma as m}from"./chunk-XM6RWNSX.js";var n=function(t){return t.Active="active",t.Completed="completed",t.Rejected="rejected",t.Canceled="canceled",t}(n||{});var o={entity:void 0,collection:"orders",selectId:t=>t.id};var I=p({providedIn:"root"},y(o),f((t,d=m(h))=>({async getOrders(){t.ordersEntities().length||this.loadActualOrders()},async createOrder(e,r,c,g){await d.postOrder(e,r,c,g),await this.loadActualOrders()},async cancelOrder(e){let r=t.ordersEntityMap()[e],c=l(s({},r),{status:n.Canceled});i(t,O(c,o)),await d.cancelOrder(e)},hasOrder(e){return!!t.ordersEntities().find(r=>r.rideId===e&&r.status===n.Active)},async loadActualOrders(){let e=await d.loadOrders();i(t,a(e,o))},clear(){i(t,a([],o))}})));export{n as a,I as b};

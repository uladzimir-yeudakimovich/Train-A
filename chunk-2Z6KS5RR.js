import{a as Dn}from"./chunk-IY4QER5N.js";import{b as Mn,c as Cn,f as Tn,g as yn}from"./chunk-D3ZEJMDG.js";import{a as ve}from"./chunk-VL46BEFP.js";import{a as ut,b as ft,c as be,d as wn}from"./chunk-J6AJW7T2.js";import{a as pn,b as un,c as fn,d as gn,h as _n}from"./chunk-NDNJYYJX.js";import{a as se}from"./chunk-TF6AOZTO.js";import"./chunk-4T44NYJG.js";import{a as sn}from"./chunk-XUEP42PT.js";import{a as on}from"./chunk-FPTRVRTR.js";import{b as ln,c as dn,d as cn,e as hn,f as mn}from"./chunk-SQUVXOXM.js";import"./chunk-BNUCCXS7.js";import"./chunk-PZQC65FW.js";import"./chunk-F4STTNID.js";import{A as pt,B as Xi,C as Ji,F as en,G as tn,I as nn,J as Ye,K as an,M as Z,P as Be,Q as rn,a as ot,c as lt,d as Li,j as De,k as U,l as ct,n as P,o as _e,p as Qi,q as ie,r as ht,s as Ki,w as mt,x as Ui,y as Zi}from"./chunk-EVOHVUKJ.js";import{a as dt}from"./chunk-BOSFDDH7.js";import{C as qi,E as Gi,g as Yi,k as Re,l as Bi,m as Hi,n as Le,p as Ni,q as Wi,u as ji,w as zi,y as $i}from"./chunk-PQ4C2WEQ.js";import{B as nt,C as yi,J as Di,L as at,M as fe,N as ge,P as Fe,U as vi,V as bi,W as It,X as rt,Z as ki,aa as Si,ba as Ai,d as Ve,ea as Oi,fa as xt,g as _i,ga as Ii,h as wi,j as it,k as Ot,ka as Vt,l as Pe,m as Mi,ma as xi,n as Ci,p as ye,q as Ti,r as Ee,sa as Vi,ta as Pi,ua as Ei,va as st,wa as Fi,xa as Ri,ya as Pt}from"./chunk-YQJCNX7A.js";import{$b as ri,Aa as ae,Ab as T,Ac as et,B as je,Ba as Te,Bb as S,Bc as K,Cb as p,Cc as ui,D as ze,Db as xe,Ea as Ke,Eb as E,F as ne,Fb as ei,G as z,Gb as ti,Ha as _,Hb as Y,Ia as me,Jb as ii,K as Kt,Kb as ee,Kc as fi,La as q,Lb as te,M as L,Ma as J,Mb as l,Nb as d,Nc as W,O as Ut,Ob as y,Rc as ue,Sb as x,Tb as ni,Tc as tt,Ub as kt,Vc as gi,Xb as C,Y as $e,Yb as St,Z as qe,Zb as f,_b as ai,a as $t,aa as Zt,b as qt,bc as At,cc as B,da as Me,dc as F,ea as Ge,ec as R,fa as ce,fb as c,g as A,gb as m,ha as $,i as Gt,ib as Ue,ic as Q,ja as X,jc as u,ka as I,kc as V,l as O,lb as Xt,lc as v,mc as si,oa as D,ob as Jt,oc as oi,pa as he,pb as Ze,pc as li,qa as Ce,qc as di,r as Ie,ra as vt,rc as ci,sc as hi,tc as Je,uc as re,vb as Xe,vc as H,w as Qt,wc as pe,xa as Qe,xb as bt,xc as mi,ya as w,yc as pi,za as M,zc as N}from"./chunk-MTQVXK5S.js";var ke=(()=>{let n=class n{transform(e){let h=Math.floor(e/864e5),g=Math.floor(e%(1e3*60*60*24)/(1e3*60*60)),k=Math.floor(e%(1e3*60*60)/(1e3*60));return h===0&&g===0?`${k}m`:h===0&&g>0?`${g}h ${k}m`:`${h}d ${g}h ${k}m`}};n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=vt({name:"toTime",type:n,pure:!0,standalone:!0});let a=n;return a})();function ia(a,n){if(a&1&&(l(0,"span"),u(1),N(2,"date"),d()),a&2){f();let s=Je(0);c(),V(K(2,1,s.startTime,"HH:mm"))}}function na(a,n){if(a&1&&(l(0,"span"),u(1),N(2,"date"),d()),a&2){f();let s=Je(0);c(),v("",K(2,1,s.endTime,"HH:mm")," ")}}function aa(a,n){a&1&&(l(0,"mat-icon"),u(1," radio_button_checked "),d())}function ra(a,n){a&1&&(l(0,"mat-icon"),u(1," fiber_manual_record "),d())}function sa(a,n){a&1&&(l(0,"mat-icon",2),u(1," fiber_manual_record "),d())}function oa(a,n){if(a&1&&(l(0,"span"),u(1),N(2,"toTime"),d()),a&2){f();let s=Je(0);c(),V(et(2,1,s.timeSpan))}}function la(a,n){a&1&&u(0," first station ")}function da(a,n){a&1&&u(0," last station ")}var Rt=(()=>{let n=class n{constructor(){this.point=q.required(),this.isFirst=q.required(),this.isLast=q.required(),this.isStartPoint=q.required(),this.isEndPoint=q.required()}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=D({type:n,selectors:[["app-point"]],inputs:{point:[1,"point"],isFirst:[1,"isFirst"],isLast:[1,"isLast"],isStartPoint:[1,"isStartPoint"],isEndPoint:[1,"isEndPoint"]},standalone:!0,features:[H],decls:13,vars:8,consts:[[1,"point-time"],[1,"point-label"],["fontSet","material-icons-outlined"],[1,"point-stop"]],template:function(t,i){if(t&1&&(ci(0),l(1,"div",0),T(2,ia,3,4,"span")(3,na,3,4,"span"),d(),l(4,"div",1),T(5,aa,2,0,"mat-icon")(6,ra,2,0,"mat-icon")(7,sa,2,0,"mat-icon",2),u(8),d(),l(9,"div",3),T(10,oa,3,3,"span")(11,la,1,0)(12,da,1,0),d()),t&2){let r=hi(i.point());c(2),Y(r.startTime?2:-1),c(),Y(r.endTime?3:-1),c(2),Y(i.isStartPoint()?5:i.isEndPoint()?6:7),c(3),v(" ",r.stationName,`
`),c(2),Y(r.timeSpan?10:-1),c(),Y(i.isFirst()?11:-1),c(),Y(i.isLast()?12:-1)}},dependencies:[ye,ke,se],styles:["[_nghost-%COMP%]{min-width:20rem;display:flex;align-items:center;gap:1rem}@media (max-width: 768px){[_nghost-%COMP%]{min-width:15rem}}.point-time[_ngcontent-%COMP%]{display:flex;flex-direction:column}.point-label[_ngcontent-%COMP%]{flex-grow:1;margin-inline-start:4rem;display:flex;align-items:center;text-transform:capitalize}@media (max-width: 768px){.point-label[_ngcontent-%COMP%]{margin-inline-start:1rem}}"]});let a=n;return a})();var ma=(a,n)=>n.stationId;function pa(a,n){a&1&&(l(0,"div",5),y(1,"mat-divider",6),d()),a&2&&(c(),p("vertical",!0))}function ua(a,n){if(a&1&&(T(0,pa,2,1,"div",5),y(1,"app-point",4)),a&2){let s=n.$implicit,e=n.$index,t=n.$count,i=f();Y(e!==0?0:-1),c(),p("point",s)("isFirst",e===0)("isLast",e===t-1)("isStartPoint",i.scheduleData.from===s.stationName)("isEndPoint",i.scheduleData.to===s.stationName)}}var kn=(()=>{let n=class n{constructor(){this.scheduleData=I(ln)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=D({type:n,selectors:[["app-schedule"]],standalone:!0,features:[H],decls:10,vars:1,consts:[["mat-dialog-title","",1,"modal-header"],[1,"modal-title"],["type","button","mat-mini-fab","","mat-dialog-close",""],[1,"modal-content"],[3,"point","isFirst","isLast","isStartPoint","isEndPoint"],[1,"modal-divider"],[3,"vertical"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h6",1),u(2),d(),l(3,"button",2)(4,"mat-icon"),u(5,"close"),d()()(),y(6,"mat-divider"),l(7,"mat-dialog-content",3),ee(8,ua,2,6,"app-point",4,ma),d()),t&2&&(c(2),V(i.scheduleData.title),c(6),te(i.scheduleData.stations))},dependencies:[se,lt,hn,mn,cn,dt,Rt],styles:[".modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-block-end:0;padding-block:1rem}.modal-title[_ngcontent-%COMP%]{flex-grow:1;margin-block-end:0}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.modal-divider[_ngcontent-%COMP%]{min-height:2rem;display:flex}.modal-divider[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin-inline-start:8rem}@media (max-width: 768px){.modal-divider[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin-inline-start:5rem}}"],changeDetection:0});let a=n;return a})();var ga=(a,n)=>n.rideId,_a=(a,n)=>n.carType,wa=a=>["trip",a],Ma=(a,n)=>({from:a,to:n});function Ca(a,n){if(a&1&&(l(0,"div")(1,"div"),u(2),d(),l(3,"div"),u(4),d(),l(5,"div"),u(6),N(7,"currency"),d()()),a&2){let s=f().$implicit;c(2),v(" Carriage type ",s.carType," "),c(2),v("",s.availableSeats," seats"),c(2),v(" ",ui(7,3,s.price,"USD","symbol","1.0-0")," ")}}function Ta(a,n){a&1&&(l(0,"mat-tab"),T(1,Ca,8,8,"ng-template",14),d())}function ya(a,n){if(a&1){let s=x();l(0,"a",0)(1,"mat-card")(2,"mat-card-content",2)(3,"div",3)(4,"div",4)(5,"mat-card-title"),u(6),N(7,"date"),d(),l(8,"span",5)(9,"mat-icon"),u(10," radio_button_checked "),d(),y(11,"mat-divider",6),l(12,"span"),u(13),N(14,"toTime"),d(),y(15,"mat-divider",6),l(16,"mat-icon"),u(17," fiber_manual_record "),d()(),l(18,"mat-card-title"),u(19),N(20,"date"),d()(),l(21,"div",7)(22,"mat-card-subtitle"),u(23),N(24,"date"),d(),l(25,"mat-card-subtitle"),u(26),N(27,"date"),d()(),l(28,"div",8)(29,"mat-card-subtitle"),u(30),d(),l(31,"mat-card-subtitle"),u(32),d()(),l(33,"div",9)(34,"button",10)(35,"mat-icon"),u(36,"directions_subway"),d(),u(37),d(),l(38,"button",11),C("click",function(t){let i=w(s).$implicit,r=f();return M(r.openModal(t,i))}),u(39," Route "),l(40,"mat-icon",12),u(41,"keyboard_arrow_down"),d()()()(),l(42,"mat-tab-group",13),C("click",function(t){w(s);let i=f();return M(i.tabClick(t))}),ee(43,Ta,2,0,"mat-tab",null,_a),d()()()()}if(a&2){let s,e=n.$implicit;p("routerLink",pe(25,wa,e.rideId))("queryParams",mi(27,Ma,e.rideFrom.id,e.rideTo.id)),c(6),v(" ",K(7,11,e.rideFrom.time,"H:mm")," "),c(7),v(" ",et(14,14,e.rideTime)," "),c(6),v(" ",K(20,16,e.rideTo.time,"H:mm")," "),c(4),v(" ",K(24,19,e.rideFrom.time,"MMMM dd")," "),c(3),v(" ",K(27,22,e.rideTo.time,"MMMM dd")," "),c(4),v(" ",e.rideFrom.city," "),c(2),v(" ",e.rideTo.city," "),c(5),si(" ",(s=e.rideRoute.at(0))==null?null:s.stationName," \u21D2 ",(s=e.rideRoute.at(-1))==null?null:s.stationName," "),c(6),te(e.carTypeInfo)}}function Da(a,n){a&1&&(l(0,"mat-card",1),y(1,"img",15),l(2,"mat-card-content")(3,"mat-card-title",16),u(4," No direct trains found "),d(),l(5,"mat-card-subtitle",17),u(6," No seats on direct trains are available right now, but there's always hope. Try again later or travel with a transfer. "),d()()())}var Sn=(()=>{let n=class n{constructor(){this.schedule=I(dn),this.cards=q.required()}openModal(e,t){e.preventDefault(),e.stopPropagation();let{rideId:i,rideRoute:r,rideFrom:o,rideTo:h}=t,g={title:`Route ${i}`,stations:r,from:o.city,to:h.city};this.schedule.open(kn,{data:g})}tabClick(e){e.preventDefault(),e.stopPropagation()}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=D({type:n,selectors:[["app-search-cards"]],inputs:{cards:[1,"cards"]},standalone:!0,features:[H],decls:3,vars:1,consts:[[3,"routerLink","queryParams"],[1,"card-empty"],[1,"card-content"],[1,"card-time"],[1,"card-time__span"],[1,"card-time__span-body"],[1,"card-time__span-divider"],[1,"card-time__date"],[1,"card-time__city"],[1,"card-time__controls"],["type","button","mat-stroked-button","","disabled",""],["type","button","mat-button","",3,"click"],["iconPositionEnd",""],[1,"card-price__list",3,"click"],["mat-tab-label",""],["mat-card-image","","src","noresults.png","alt","no results"],[1,"card-empty__title"],[1,"card-empty__subtitle"]],template:function(t,i){t&1&&ee(0,ya,45,30,"a",0,ga,!1,Da,7,0,"mat-card",1),t&2&&te(i.cards())},dependencies:[pn,fn,_n,un,gn,ot,se,dt,ye,Ti,ke,Yi,wn,ut,ft,be],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column;padding-inline:1rem;gap:1rem;margin-top:1rem}a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-content[_ngcontent-%COMP%]     .mat-mdc-tab .mdc-tab-indicator__content--underline{border:none!important}@media (max-width: 768px){.card-content[_ngcontent-%COMP%]{flex-direction:column}.card-content[_ngcontent-%COMP%]   .card-time[_ngcontent-%COMP%]{width:100%}.card-content[_ngcontent-%COMP%]   .card-price__list[_ngcontent-%COMP%]{margin:0 auto;padding:1rem 0}}.card-time[_ngcontent-%COMP%]{width:50%;min-width:20rem;gap:.5rem}.card-time__span[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.card-time__span-body[_ngcontent-%COMP%]{flex-grow:1;display:flex;align-items:center}.card-time__span-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline:.5rem}.card-time__span-divider[_ngcontent-%COMP%]{flex-grow:1}.card-time__date[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-time__city[_ngcontent-%COMP%]{display:flex;justify-content:space-between;text-transform:capitalize}.card-time__controls[_ngcontent-%COMP%]{margin-block-start:1rem;display:flex;gap:1rem;align-items:center}.card-price__list[_ngcontent-%COMP%]{overflow-x:auto;padding:0;padding-bottom:3rem}.card-price__item[_ngcontent-%COMP%]{display:flex;gap:1rem}.card-price__carriage[_ngcontent-%COMP%]{width:7rem;display:flex;flex-direction:column;justify-content:space-between;align-items:center}.card-empty[_ngcontent-%COMP%]{width:100%;max-width:30rem;align-self:center}.card-empty__title[_ngcontent-%COMP%]{text-align:center;margin-block:.5rem}.card-empty__subtitle[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0});let a=n;return a})();function va(a,n){a&1&&(l(0,"div")(1,"div"),u(2,"All rides"),d()())}function ba(a,n){if(a&1&&(l(0,"div")(1,"div"),u(2),N(3,"date"),d(),l(4,"div"),u(5),N(6,"date"),d()()),a&2){let s=f().$implicit;c(2),V(K(3,2,s,"MMMM dd")),c(3),V(K(6,5,s,"EEEE"))}}function ka(a,n){a&1&&(l(0,"mat-tab"),T(1,ba,7,8,"ng-template",1),d())}var An=(()=>{let n=class n{filterTime(e){if(e===0){this.searchStore.setFilter(0);return}this.searchStore.setFilter(this.dates()[e-1])}constructor(){this.searchStore=I(ve),this.dates=q.required(),gi(()=>{let e=this.dates();this.matTabGroup.selectedIndex=e.indexOf(this.searchStore.time())+1})}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=D({type:n,selectors:[["app-search-filter"]],viewQuery:function(t,i){if(t&1&&B(be,5),t&2){let r;F(r=R())&&(i.matTabGroup=r.first)}},inputs:{dates:[1,"dates"]},standalone:!0,features:[H],decls:5,vars:0,consts:[["fitInkBarToContent","",3,"selectedIndexChange"],["mat-tab-label",""]],template:function(t,i){t&1&&(l(0,"mat-tab-group",0),C("selectedIndexChange",function(o){return i.filterTime(o)}),l(1,"mat-tab"),T(2,va,3,0,"ng-template",1),d(),ee(3,ka,2,0,"mat-tab",null,ii),d()),t&2&&(c(3),te(i.dates()))},dependencies:[be,ft,ut,ye],styles:["[_nghost-%COMP%]{width:calc(100% - 2rem);margin-inline:auto}"]});let a=n;return a})();var Ia=["panel"],xa=["*"];function Va(a,n){if(a&1){let s=x();l(0,"div",1,0),C("@panelAnimation.done",function(t){w(s);let i=f();return M(i._animationDone.next(t))}),ri(2),d()}if(a&2){let s=n.id,e=f();ei(e._classList),E("mat-mdc-autocomplete-visible",e.showPanel)("mat-mdc-autocomplete-hidden",!e.showPanel)("mat-primary",e._color==="primary")("mat-accent",e._color==="accent")("mat-warn",e._color==="warn"),p("id",e.id)("@panelAnimation",e.isOpen?"visible":"hidden"),S("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby(s))}}var Pa=De("panelAnimation",[_e("void, hidden",P({opacity:0,transform:"scaleY(0.8)"})),ie(":enter, hidden => visible",[ct([U("0.03s linear",P({opacity:1})),U("0.12s cubic-bezier(0, 0, 0.2, 1)",P({transform:"scaleY(1)"}))])]),ie(":leave, visible => hidden",[U("0.075s linear",P({opacity:0}))])]),Ea=0,Lt=class{constructor(n,s){this.source=n,this.option=s}},On=new $("mat-autocomplete-default-options",{providedIn:"root",factory:Fa});function Fa(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var In=(()=>{let n=class n{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}constructor(e,t,i,r){this._changeDetectorRef=e,this._elementRef=t,this._defaults=i,this._activeOptionChanges=A.EMPTY,this._animationDone=new _,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new _,this.opened=new _,this.closed=new _,this.optionActivated=new _,this.id=`mat-autocomplete-${Ea++}`,this.inertGroups=r?.SAFARI||!1,this.autoActiveFirstOption=!!i.autoActiveFirstOption,this.autoSelectActiveOption=!!i.autoSelectActiveOption,this.requireSelection=!!i.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new ki(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let t=new Lt(this,e);this.optionSelected.emit(t)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_skipPredicate(){return!1}};n.\u0275fac=function(t){return new(t||n)(m(W),m(J),m(On),m(nt))},n.\u0275cmp=D({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(t,i,r){if(t&1&&(At(r,st,5),At(r,Pi,5)),t&2){let o;F(o=R())&&(i.options=o),F(o=R())&&(i.optionGroups=o)}},viewQuery:function(t,i){if(t&1&&(B(Ue,7),B(Ia,5)),t&2){let r;F(r=R())&&(i.template=r.first),F(r=R())&&(i.panel=r.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",ue],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",ue],requireSelection:[2,"requireSelection","requireSelection",ue],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",ue],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",ue]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[re([{provide:Vi,useExisting:n}]),bt,H],ngContentSelectors:xa,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(t,i){t&1&&(ai(),T(0,Va,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Pa]},changeDetection:0});let a=n;return a})();var Ra={provide:Re,useExisting:Me(()=>Yt),multi:!0};var xn=new $("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let a=I(Z);return()=>a.scrollStrategies.reposition()}});function La(a){return()=>a.scrollStrategies.reposition()}var Ya={provide:xn,deps:[Z],useFactory:La},Yt=(()=>{let n=class n{constructor(e,t,i,r,o,h,g,k,de,Dt,ea){this._element=e,this._overlay=t,this._viewContainerRef=i,this._zone=r,this._changeDetectorRef=o,this._dir=g,this._formField=k,this._document=de,this._viewportRuler=Dt,this._defaults=ea,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=A.EMPTY,this._breakpointObserver=I(vi),this._handsetLandscapeSubscription=A.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new O,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new O,this._injector=I(Ke),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=je(()=>{let G=this.autocomplete?this.autocomplete.options:null;return G?G.changes.pipe($e(G),qe(()=>ne(...G.map(ta=>ta.onSelectionChange)))):this._initialized.pipe(qe(()=>this.optionSelections))}),this._handlePanelKeydown=G=>{(G.keyCode===27&&!at(G)||G.keyCode===38&&at(G,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),G.stopPropagation(),G.preventDefault())},this._trackedModal=null,this._scrollStrategy=h}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();let e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&rt(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return ne(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(z(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(z(()=>this._overlayAttached)):Ie()).pipe(Qt(e=>e instanceof Ei?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return ne(ze(this._document,"click"),ze(this._document,"auxclick"),ze(this._document,"touchend")).pipe(z(e=>{let t=Di(e),i=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,r=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&t!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!i||!i.contains(t))&&(!r||!r.contains(t))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(t)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let t=e.keyCode,i=at(e);if(t===27&&!i&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&t===13&&this.panelOpen&&!i)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let r=this.autocomplete._keyManager.activeItem,o=t===38||t===40;t===9||o&&!i&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):o&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(o||this.autocomplete._keyManager.activeItem!==r)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let t=e.target,i=t.value;if(t.type==="number"&&(i=i==""?null:parseFloat(i)),this._previousValue!==i){if(this._previousValue=i,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(i),!i)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let r=this.autocomplete.options?.find(o=>o.selected);if(r){let o=this._getDisplayValue(r.value);i!==o&&r.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let r=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(r)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new Gt(i=>{Jt(()=>{i.next()},{injector:this._injector})}),t=this.autocomplete.options.changes.pipe(Zt(()=>this._positionStrategy.reapplyLastPosition()),Ut(0));return ne(e,t).pipe(qe(()=>this._zone.run(()=>{let i=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),i!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),L(1)).subscribe(i=>this._setValueAndClose(i))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let t=this.autocomplete;return t&&t.displayWith?t.displayWith(e):e}_assignOptionValue(e){let t=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(t??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let t=this.autocomplete,i=e?e.source:this._pendingAutoselectedOption;i?(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),t._emitSelectEvent(i),this._element.nativeElement.focus()):t.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),t._animationDone?t._animationDone.pipe(L(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,t){this.autocomplete?.options?.forEach(i=>{i!==e&&i.selected&&i.deselect(t)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let t=this.autocomplete.id;It(this._trackedModal,"aria-owns",t)}}_attachOverlay(e){this.autocomplete;let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new Ui(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(bi.HandsetLandscape).subscribe(r=>{r.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),t&&!t.hasAttached()&&(t.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let i=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&i!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Ye({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,r=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}],o;this.position==="above"?o=r:this.position==="below"?o=t:o=[...t,...r],e.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let t=-1;for(let i=0;i<e.options.length;i++)if(!e.options.get(i).disabled){t=i;break}e._keyManager.setActiveItem(t)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){let t=this.autocomplete,i=Fi(e,t.options,t.optionGroups);if(e===0&&i===1)t._setScrollTop(0);else if(t.panel){let r=t.options.toArray()[e];if(r){let o=r._getHostElement(),h=Ri(o.offsetTop,o.offsetHeight,t._getScrollTop(),t.panel.nativeElement.offsetHeight);t._setScrollTop(h)}}}_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=this.autocomplete.id;this._trackedModal&&rt(this._trackedModal,"aria-owns",t),It(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;rt(this._trackedModal,"aria-owns",e),this._trackedModal=null}}};n.\u0275fac=function(t){return new(t||n)(m(J),m(Z),m(Ze),m(me),m(W),m(xn),m(Ii,8),m(Tn,9),m(Ve,8),m(en),m(On,8))},n.\u0275dir=Ce({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(t,i){t&1&&C("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(o){return i._handleInput(o)})("keydown",function(o){return i._handleKeydown(o)})("click",function(){return i._handleClick()}),t&2&&S("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-controls",i.autocompleteDisabled||!i.panelOpen||i.autocomplete==null?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",ue]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[re([Ra]),bt,Qe]});let a=n;return a})(),Vn=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=he({type:n}),n.\u0275inj=ce({providers:[Ya],imports:[Be,Pt,Vt,Ee,tn,Pt,Vt]});let a=n;return a})();var Ha=["owl-date-time-calendar-body",""],Na=(a,n,s)=>({"owl-dt-calendar-cell-out":a,"owl-dt-calendar-cell-today":n,"owl-dt-calendar-cell-selected":s});function Wa(a,n){if(a&1){let s=x();l(0,"td",3),C("click",function(){let t=w(s).$implicit,i=f(2);return M(i.selectCell(t))}),l(1,"span",4),u(2),d()()}if(a&2){let s=n.$implicit,e=n.index,t=f().index,i=f();ti("owl-dt-calendar-cell ",s.cellClass,""),xe("width",100/i.numCols,"%")("padding-top",50*i.cellRatio/i.numCols,"%")("padding-bottom",50*i.cellRatio/i.numCols,"%"),E("owl-dt-calendar-cell-active",i.isActiveCell(t,e))("owl-dt-calendar-cell-disabled",!s.enabled)("owl-dt-calendar-cell-in-range",i.isInRange(s.value))("owl-dt-calendar-cell-range-from",i.isRangeFrom(s.value))("owl-dt-calendar-cell-range-to",i.isRangeTo(s.value)),p("tabindex",i.isActiveCell(t,e)?0:-1),S("aria-label",s.ariaLabel)("aria-disabled",!s.enabled||null)("aria-current",s.value===i.todayValue?"date":null)("aria-selected",i.isSelected(s.value)),c(),p("ngClass",pi(26,Na,s.out,s.value===i.todayValue,i.isSelected(s.value))),c(),v(" ",s.displayValue," ")}}function ja(a,n){if(a&1&&(l(0,"tr",1),T(1,Wa,3,30,"td",2),d()),a&2){let s=n.$implicit;c(),p("ngForOf",s)}}var Pn=a=>({"owl-calendar-weeks":a});function za(a,n){if(a&1&&(l(0,"li")(1,"span"),u(2),d()()),a&2){let s=n.$implicit;c(2),V(s)}}function $a(a,n){if(a&1&&(l(0,"ul",7),T(1,za,3,1,"li",8),d()),a&2){let s=f();c(),p("ngForOf",s.weekNumbers)}}function qa(a,n){if(a&1&&(l(0,"th",9)(1,"span"),u(2),d()()),a&2){let s=n.$implicit;S("aria-label",s.long),c(2),V(s.short)}}function Ga(a,n){if(a&1){let s=x();l(0,"owl-date-time-month-view",16),C("pickerMomentChange",function(t){w(s);let i=f();return M(i.handlePickerMomentChange(t))})("selectedChange",function(t){w(s);let i=f();return M(i.dateSelected(t))})("userSelection",function(){w(s);let t=f();return M(t.userSelected())}),d()}if(a&2){let s=f();p("pickerMoment",s.pickerMoment)("firstDayOfWeek",s.firstDayOfWeek)("selected",s.selected)("selecteds",s.selecteds)("selectMode",s.selectMode)("minDate",s.minDate)("showCalendarWeeks",s.showCalendarWeeks)("maxDate",s.maxDate)("dateFilter",s.dateFilter)("hideOtherMonths",s.hideOtherMonths)}}function Qa(a,n){if(a&1){let s=x();l(0,"owl-date-time-year-view",17),C("keyboardEnter",function(){w(s);let t=f();return M(t.focusActiveCell())})("pickerMomentChange",function(t){w(s);let i=f();return M(i.handlePickerMomentChange(t))})("monthSelected",function(t){w(s);let i=f();return M(i.selectMonthInYearView(t))})("change",function(t){w(s);let i=f();return M(i.goToDateInView(t,i.DateView.MONTH))}),d()}if(a&2){let s=f();p("pickerMoment",s.pickerMoment)("selected",s.selected)("selecteds",s.selecteds)("selectMode",s.selectMode)("minDate",s.minDate)("maxDate",s.maxDate)("dateFilter",s.dateFilter)}}function Ka(a,n){if(a&1){let s=x();l(0,"owl-date-time-multi-year-view",18),C("keyboardEnter",function(){w(s);let t=f();return M(t.focusActiveCell())})("pickerMomentChange",function(t){w(s);let i=f();return M(i.handlePickerMomentChange(t))})("yearSelected",function(t){w(s);let i=f();return M(i.selectYearInMultiYearView(t))})("change",function(t){w(s);let i=f();return M(i.goToDateInView(t,i.DateView.YEAR))}),d()}if(a&2){let s=f();p("pickerMoment",s.pickerMoment)("selected",s.selected)("selecteds",s.selecteds)("selectMode",s.selectMode)("minDate",s.minDate)("maxDate",s.maxDate)("dateFilter",s.dateFilter)}}var Ua=["valueInput"];function Za(a,n){a&1&&y(0,"div",10)}function Xa(a,n){if(a&1){let s=x();l(0,"owl-date-time-timer-box",1),C("inputChange",function(t){w(s);let i=f();return M(i.setSecondValue(t))})("valueChange",function(t){w(s);let i=f();return M(i.setSecondValue(t))}),d()}if(a&2){let s=f();p("showDivider",!0)("upBtnAriaLabel",s.upSecondButtonLabel)("downBtnAriaLabel",s.downSecondButtonLabel)("upBtnDisabled",!s.upSecondEnabled())("downBtnDisabled",!s.downSecondEnabled())("value",s.secondValue)("min",0)("max",59)("step",s.stepSecond)("inputLabel","Second")}}function Ja(a,n){if(a&1){let s=x();l(0,"div",4)(1,"button",5),C("click",function(t){w(s);let i=f();return M(i.setMeridiem(t))}),l(2,"span",6),u(3),d()()()}if(a&2){let s=f();c(3),v(" ",s.hour12ButtonLabel," ")}}var En=a=>({"owl-dt-container-info-active":a});function er(a,n){if(a&1){let s=x();l(0,"owl-date-time-calendar",7),di("pickerMomentChange",function(t){w(s);let i=f();return li(i.pickerMoment,t)||(i.pickerMoment=t),M(t)}),C("yearSelected",function(t){w(s);let i=f();return M(i.picker.selectYear(t))})("monthSelected",function(t){w(s);let i=f();return M(i.picker.selectMonth(t))})("dateClicked",function(t){w(s);let i=f();return M(i.picker.selectDate(t))})("selectedChange",function(t){w(s);let i=f();return M(i.dateSelected(t))}),d()}if(a&2){let s=f();p("firstDayOfWeek",s.picker.firstDayOfWeek),oi("pickerMoment",s.pickerMoment),p("selected",s.picker.selected)("selecteds",s.picker.selecteds)("selectMode",s.picker.selectMode)("minDate",s.picker.minDateTime)("maxDate",s.picker.maxDateTime)("dateFilter",s.picker.dateTimeFilter)("startView",s.picker.startView)("yearOnly",s.picker.yearOnly)("showCalendarWeeks",s.picker.showCalendarWeeks)("multiyearOnly",s.picker.multiyearOnly)("hideOtherMonths",s.picker.hideOtherMonths)}}function tr(a,n){if(a&1){let s=x();l(0,"owl-date-time-timer",8),C("selectedChange",function(t){w(s);let i=f();return M(i.timeSelected(t))}),d()}if(a&2){let s=f();p("pickerMoment",s.pickerMoment)("minDateTime",s.picker.minDateTime)("maxDateTime",s.picker.maxDateTime)("showSecondsTimer",s.picker.showSecondsTimer)("hour12Timer",s.picker.hour12Timer)("stepHour",s.picker.stepHour)("stepMinute",s.picker.stepMinute)("stepSecond",s.picker.stepSecond)}}function ir(a,n){if(a&1){let s=x();l(0,"div",9)(1,"div",10,0),C("click",function(t){w(s);let i=f();return M(i.handleClickOnInfoGroup(t,0))})("keydown",function(t){w(s);let i=Q(9),r=f();return M(r.handleKeydownOnInfoGroup(t,i,0))}),l(3,"span",11)(4,"span",12),u(5),d(),l(6,"span",13),u(7),d()()(),l(8,"div",14,1),C("click",function(t){w(s);let i=f();return M(i.handleClickOnInfoGroup(t,1))})("keydown",function(t){w(s);let i=Q(2),r=f();return M(r.handleKeydownOnInfoGroup(t,i,1))}),l(10,"span",11)(11,"span",12),u(12),d(),l(13,"span",13),u(14),d()()()()}if(a&2){let s=f();c(),p("tabindex",s.activeSelectedIndex===0?0:-1)("ngClass",pe(10,En,s.activeSelectedIndex===0)),S("aria-checked",s.activeSelectedIndex===0),c(4),v("",s.fromLabel,":"),c(2),V(s.fromFormattedValue),c(),p("tabindex",s.activeSelectedIndex===1?0:-1)("ngClass",pe(12,En,s.activeSelectedIndex===1)),S("aria-checked",s.activeSelectedIndex===1),c(4),v("",s.toLabel,":"),c(2),V(s.toFormattedValue)}}function nr(a,n){if(a&1){let s=x();l(0,"div",15)(1,"button",16),C("click",function(t){w(s);let i=f();return M(i.onCancelClicked(t))}),l(2,"span",17),u(3),d()(),l(4,"button",16),C("click",function(t){w(s);let i=f();return M(i.onSetClicked(t))}),l(5,"span",17),u(6),d()()()}if(a&2){let s=f();c(3),v(" ",s.cancelLabel," "),c(3),v(" ",s.setLabel," ")}}function ar(a,n){}var jn=(()=>{let n=class n{get disabled(){return this._disabled===void 0?this.dtPicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}get owlDTTriggerDisabledClass(){return this.disabled}constructor(e){this.changeDetector=e,this.stateChanges=A.EMPTY}ngOnInit(){}ngOnChanges(e){e.datepicker&&this.watchStateChanges()}ngAfterContentInit(){this.watchStateChanges()}ngOnDestroy(){this.stateChanges.unsubscribe()}handleClickOnHost(e){this.dtPicker&&(this.dtPicker.open(),e.stopPropagation())}watchStateChanges(){this.stateChanges.unsubscribe();let e=this.dtPicker&&this.dtPicker.dtInput?this.dtPicker.dtInput.disabledChange:Ie(),t=this.dtPicker?this.dtPicker.disabledChange:Ie();this.stateChanges=ne([t,e]).subscribe(()=>{this.changeDetector.markForCheck()})}};n.\u0275fac=function(t){return new(t||n)(m(W))},n.\u0275dir=Ce({type:n,selectors:[["","owlDateTimeTrigger",""]],hostVars:2,hostBindings:function(t,i){t&1&&C("click",function(o){return i.handleClickOnHost(o)}),t&2&&E("owl-dt-trigger-disabled",i.owlDTTriggerDisabledClass)},inputs:{dtPicker:[0,"owlDateTimeTrigger","dtPicker"],disabled:"disabled"},features:[Qe]});let a=n;return a})(),le=new $("OWL_DATE_TIME_FORMATS"),rr=new $("OWL_DATE_TIME_LOCALE",{providedIn:"root",factory:sr});function sr(){return I(fi)}var j=class{constructor(){this._localeChanges=new O,this.millisecondsInDay=864e5,this.milliseondsInMinute=6e4}get localeChanges(){return this._localeChanges}compare(n,s){if(!this.isValid(n)||!this.isValid(s))throw Error("JSNativeDate: Cannot compare invalid dates.");let e=this.clone(n),t=this.clone(s),i=this.getTime(e)-this.getTime(t);return i<0?-1:i>0?1:i}compareYear(n,s){if(!this.isValid(n)||!this.isValid(s))throw Error("JSNativeDate: Cannot compare invalid dates.");let e=this.getYear(n),t=this.getYear(s),i=e-t;return i<0?-1:i>0?1:0}deserialize(n){return n==null||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this.locale=n,this._localeChanges.next(n)}getLocale(){return this.locale}clampDate(n,s,e){return s&&this.compare(n,s)<0?s:e&&this.compare(n,e)>0?e:n}},or=0,b=function(a){return a.MONTH="month",a.YEAR="year",a.MULTI_YEARS="multi-years",a}(b||{}),zn=(()=>{let n=class n{get showSecondsTimer(){return this._showSecondsTimer}set showSecondsTimer(e){this._showSecondsTimer=fe(e)}get hour12Timer(){return this._hour12Timer}set hour12Timer(e){this._hour12Timer=fe(e)}get stepHour(){return this._stepHour}set stepHour(e){this._stepHour=ge(e,1)}get stepMinute(){return this._stepMinute}set stepMinute(e){this._stepMinute=ge(e,1)}get stepSecond(){return this._stepSecond}set stepSecond(e){this._stepSecond=ge(e,1)}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){e=ge(e),e>6||e<0?this._firstDayOfWeek=void 0:this._firstDayOfWeek=e}get hideOtherMonths(){return this._hideOtherMonths}set hideOtherMonths(e){this._hideOtherMonths=fe(e)}get id(){return this._id}get formatString(){return this.pickerType==="both"?this.dateTimeFormats.fullPickerInput:this.pickerType==="calendar"?this.dateTimeFormats.datePickerInput:this.dateTimeFormats.timePickerInput}get disabled(){return!1}constructor(e,t){if(this.dateTimeAdapter=e,this.dateTimeFormats=t,this._showSecondsTimer=!1,this._hour12Timer=!1,this.startView=b.MONTH,this.showCalendarWeeks=!1,this.yearOnly=!1,this.multiyearOnly=!1,this._stepHour=1,this._stepMinute=1,this._stepSecond=1,this._hideOtherMonths=!1,this.dateTimeChecker=i=>!!i&&(!this.dateTimeFilter||this.dateTimeFilter(i))&&(!this.minDateTime||this.dateTimeAdapter.compare(i,this.minDateTime)>=0)&&(!this.maxDateTime||this.dateTimeAdapter.compare(i,this.maxDateTime)<=0),!this.dateTimeAdapter)throw Error("OwlDateTimePicker: No provider found for DateTimeAdapter. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");if(!this.dateTimeFormats)throw Error("OwlDateTimePicker: No provider found for OWL_DATE_TIME_FORMATS. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");this._id=`owl-dt-picker-${or++}`}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}};n.\u0275fac=function(t){return new(t||n)(m(j,8),m(le,8))},n.\u0275dir=Ce({type:n,inputs:{showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",startView:"startView",showCalendarWeeks:"showCalendarWeeks",yearOnly:"yearOnly",multiyearOnly:"multiyearOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",firstDayOfWeek:"firstDayOfWeek",hideOtherMonths:"hideOtherMonths"}});let a=n;return a})(),We=(()=>{let n=class n{constructor(){this.changes=new O,this.upSecondLabel="Add a second",this.downSecondLabel="Minus a second",this.upMinuteLabel="Add a minute",this.downMinuteLabel="Minus a minute",this.upHourLabel="Add a hour",this.downHourLabel="Minus a hour",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 21 years",this.nextMultiYearLabel="Next 21 years",this.switchToMonthViewLabel="Change to month view",this.switchToMultiYearViewLabel="Choose month and year",this.cancelBtnLabel="Cancel",this.setBtnLabel="Set",this.rangeFromLabel="From",this.rangeToLabel="To",this.hour12AMLabel="AM",this.hour12PMLabel="PM"}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let a=n;return a})(),Ne=class{constructor(n,s,e,t,i=!1,r=""){this.value=n,this.displayValue=s,this.ariaLabel=e,this.enabled=t,this.out=i,this.cellClass=r}},Oe=(()=>{let n=class n{get owlDTCalendarBodyClass(){return!0}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}constructor(e,t){this.elmRef=e,this.ngZone=t,this.activeCell=0,this.numCols=7,this.cellRatio=1,this.select=new _}ngOnInit(){}selectCell(e){this.select.emit(e)}isActiveCell(e,t){return e*this.numCols+t===this.activeCell}isSelected(e){if(!this.selectedValues||this.selectedValues.length===0)return!1;if(this.isInSingleMode)return e===this.selectedValues[0];if(this.isInRangeMode){let t=this.selectedValues[0],i=this.selectedValues[1];return e===t||e===i}}isInRange(e){if(this.isInRangeMode){let t=this.selectedValues[0],i=this.selectedValues[1];return t!==null&&i!==null?e>=t&&e<=i:e===t||e===i}}isRangeFrom(e){if(this.isInRangeMode){let t=this.selectedValues[0];return t!==null&&e===t}}isRangeTo(e){if(this.isInRangeMode){let t=this.selectedValues[1];return t!==null&&e===t}}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(L(1)).subscribe(()=>{this.elmRef.nativeElement.querySelector(".owl-dt-calendar-cell-active").focus()})})}};n.\u0275fac=function(t){return new(t||n)(m(J),m(me))},n.\u0275cmp=D({type:n,selectors:[["","owl-date-time-calendar-body",""]],hostVars:2,hostBindings:function(t,i){t&2&&E("owl-dt-calendar-body",i.owlDTCalendarBodyClass)},inputs:{activeCell:"activeCell",rows:"rows",numCols:"numCols",cellRatio:"cellRatio",todayValue:"todayValue",selectedValues:"selectedValues",selectMode:"selectMode"},outputs:{select:"select"},exportAs:["owlDateTimeCalendarBody"],attrs:Ha,decls:1,vars:1,consts:[["role","row",4,"ngFor","ngForOf"],["role","row"],[3,"class","tabindex","owl-dt-calendar-cell-active","owl-dt-calendar-cell-disabled","owl-dt-calendar-cell-in-range","owl-dt-calendar-cell-range-from","owl-dt-calendar-cell-range-to","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],[3,"click","tabindex"],[1,"owl-dt-calendar-cell-content",3,"ngClass"]],template:function(t,i){t&1&&T(0,ja,2,1,"tr",0),t&2&&p("ngForOf",i.rows)},dependencies:[it,Ot],changeDetection:0});let a=n;return a})();function lr(){return Nt.create()}function dr(a){return a.multiYear}var Nt=class{static create(){return{multiYear:{yearRows:7,yearsPerRow:3}}}},Tt=class Tt{};Tt.all=new $("All options token"),Tt.multiYear=new $("Grid view options token");var Ae=Tt,cr=[{provide:Ae.all,useFactory:lr},{provide:Ae.multiYear,useFactory:dr,deps:[Ae.all]}],hr=(()=>{let n=class n{get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.setSelectedYears(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){let t=this._selected;e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.dateTimeAdapter.isSameDay(t,this._selected)||this.setSelectedYears()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.setSelectedYears()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){let t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),t&&this._pickerMoment&&!this.isSameYearList(t,this._pickerMoment)&&this.generateYearList()}get dateFilter(){return this._dateFilter}set dateFilter(e){this._dateFilter=e,this.initiated&&this.generateYearList()}get minDate(){return this._minDate}set minDate(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&this.generateYearList()}get maxDate(){return this._maxDate}set maxDate(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&this.generateYearList()}get todayYear(){return this._todayYear}get years(){return this._years}get selectedYears(){return this._selectedYears}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)}get tableHeader(){if(this._years&&this._years.length>0)return`${this._years[0][0].displayValue} - ${this._years[this.options.yearRows-1][this.options.yearsPerRow-1].displayValue}`}get prevButtonLabel(){return this.pickerIntl.prevMultiYearLabel}get nextButtonLabel(){return this.pickerIntl.nextMultiYearLabel}get owlDTCalendarView(){return!0}get owlDTCalendarMultiYearView(){return!0}constructor(e,t,i,r){this.cdRef=e,this.pickerIntl=t,this.dateTimeAdapter=i,this.options=r,this._selectMode="single",this._selecteds=[],this.initiated=!1,this.change=new _,this.yearSelected=new _,this.pickerMomentChange=new _,this.keyboardEnter=new _}ngOnInit(){}ngAfterContentInit(){this._todayYear=this.dateTimeAdapter.getYear(this.dateTimeAdapter.now()),this.generateYearList(),this.initiated=!0}selectCalendarCell(e){this.selectYear(e.value)}selectYear(e){this.yearSelected.emit(this.dateTimeAdapter.createDate(e,0,1));let t=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment),1),i=this.dateTimeAdapter.getNumDaysInMonth(t),r=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment),Math.min(i,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(r)}prevYearList(e){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1*this.options.yearsPerRow*this.options.yearRows),this.generateYearList(),e.preventDefault()}nextYearList(e){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,this.options.yearsPerRow*this.options.yearRows),this.generateYearList(),e.preventDefault()}generateYearList(){this._years=[];let e=this.dateTimeAdapter.getYear(this._pickerMoment),t=e%(this.options.yearsPerRow*this.options.yearRows);for(let i=0;i<this.options.yearRows;i++){let r=[];for(let o=0;o<this.options.yearsPerRow;o++){let h=e-t+(o+i*this.options.yearsPerRow),g=this.createYearCell(h);r.push(g)}this._years.push(r)}}previousEnabled(){return this.minDate?!this.minDate||!this.isSameYearList(this._pickerMoment,this.minDate):!0}nextEnabled(){return!this.maxDate||!this.isSameYearList(this._pickerMoment,this.maxDate)}handleCalendarKeydown(e){let t;switch(e.keyCode){case 37:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 39:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,1),this.pickerMomentChange.emit(t);break;case 38:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1*this.options.yearsPerRow),this.pickerMomentChange.emit(t);break;case 40:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,this.options.yearsPerRow),this.pickerMomentChange.emit(t);break;case 36:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)),this.pickerMomentChange.emit(t);break;case 35:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,this.options.yearsPerRow*this.options.yearRows-this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)-1),this.pickerMomentChange.emit(t);break;case 33:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?-10*(this.options.yearsPerRow*this.options.yearRows):-1*(this.options.yearsPerRow*this.options.yearRows)),this.pickerMomentChange.emit(t);break;case 34:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?10*(this.options.yearsPerRow*this.options.yearRows):this.options.yearsPerRow*this.options.yearRows),this.pickerMomentChange.emit(t);break;case 13:this.selectYear(this.dateTimeAdapter.getYear(this._pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),e.preventDefault()}createYearCell(e){let t=this.dateTimeAdapter.createDate(e,0,1),i=this.dateTimeAdapter.getYearName(t),r="owl-dt-year-"+e;return new Ne(e,e.toString(),i,this.isYearEnabled(e),!1,r)}setSelectedYears(){this._selectedYears=[],this.isInSingleMode&&this.selected&&(this._selectedYears[0]=this.dateTimeAdapter.getYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this._selectedYears=this.selecteds.map(e=>this.dateTimeAdapter.isValid(e)?this.dateTimeAdapter.getYear(e):null))}isYearEnabled(e){if(e==null||this.maxDate&&e>this.dateTimeAdapter.getYear(this.maxDate)||this.minDate&&e<this.dateTimeAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let t=this.dateTimeAdapter.createDate(e,0,1);for(let i=t;this.dateTimeAdapter.getYear(i)===e;i=this.dateTimeAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}isSameYearList(e,t){return Math.floor(this.dateTimeAdapter.getYear(e)/(this.options.yearsPerRow*this.options.yearRows))===Math.floor(this.dateTimeAdapter.getYear(t)/(this.options.yearsPerRow*this.options.yearRows))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}};n.\u0275fac=function(t){return new(t||n)(m(W),m(We),m(j,8),m(Ae.multiYear))},n.\u0275cmp=D({type:n,selectors:[["owl-date-time-multi-year-view"]],viewQuery:function(t,i){if(t&1&&B(Oe,7),t&2){let r;F(r=R())&&(i.calendarBodyElm=r.first)}},hostVars:4,hostBindings:function(t,i){t&2&&E("owl-dt-calendar-view",i.owlDTCalendarView)("owl-dt-calendar-multi-year-view",i.owlDTCalendarMultiYearView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{change:"change",yearSelected:"yearSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},decls:14,vars:12,consts:[["type","button","tabindex","0",1,"owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"owl-dt-calendar-table","owl-dt-calendar-multi-year-table"],[1,"owl-dt-calendar-header"],["colspan","3"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d",`M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0
                c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545
                c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681
                C197.237,120.447,195.534,115.448,191.75,111.689z`,2,"fill-rule","evenodd","clip-rule","evenodd"]],template:function(t,i){t&1&&(l(0,"button",0),C("click",function(o){return i.prevYearList(o)}),l(1,"span",1),ae(),l(2,"svg",2),y(3,"path",3),d()()(),Te(),l(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),u(8),d()()(),l(9,"tbody",7),C("keydown",function(o){return i.handleCalendarKeydown(o)})("select",function(o){return i.selectCalendarCell(o)}),d()(),l(10,"button",0),C("click",function(o){return i.nextYearList(o)}),l(11,"span",1),ae(),l(12,"svg",8),y(13,"path",9),d()()()),t&2&&(p("disabled",!i.previousEnabled()),S("aria-label",i.prevButtonLabel),c(8),V(i.tableHeader),c(),p("rows",i.years)("numCols",3)("cellRatio",3/7)("activeCell",i.activeCell)("todayValue",i.todayYear)("selectedValues",i.selectedYears)("selectMode",i.selectMode),c(),p("disabled",!i.nextEnabled()),S("aria-label",i.nextButtonLabel))},dependencies:[Oe],changeDetection:0});let a=n;return a})(),mr=12,Bt=3,pr=(()=>{let n=class n{get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.generateMonthList(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.setSelectedMonths()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=[];for(let t=0;t<e.length;t++){let i=this.dateTimeAdapter.deserialize(e[t]);this._selecteds.push(this.getValidDate(i))}this.setSelectedMonths()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){let t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),!this.hasSameYear(t,this._pickerMoment)&&this.initiated&&this.generateMonthList()}get dateFilter(){return this._dateFilter}set dateFilter(e){this._dateFilter=e,this.initiated&&this.generateMonthList()}get minDate(){return this._minDate}set minDate(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&this.generateMonthList()}get maxDate(){return this._maxDate}set maxDate(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&this.generateMonthList()}get months(){return this._months}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getMonth(this._pickerMoment)}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get owlDTCalendarView(){return!0}constructor(e,t,i){this.cdRef=e,this.dateTimeAdapter=t,this.dateTimeFormats=i,this._selectMode="single",this._selecteds=[],this.localeSub=A.EMPTY,this.initiated=!1,this.selectedMonths=[],this.change=new _,this.monthSelected=new _,this.pickerMomentChange=new _,this.keyboardEnter=new _,this.monthNames=this.dateTimeAdapter.getMonthNames("short")}ngOnInit(){this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.generateMonthList(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateMonthList(),this.initiated=!0}ngOnDestroy(){this.localeSub.unsubscribe()}selectCalendarCell(e){this.selectMonth(e.value)}selectMonth(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1);this.monthSelected.emit(t);let i=this.dateTimeAdapter.getNumDaysInMonth(t),r=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,Math.min(i,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(r)}handleCalendarKeydown(e){let t;switch(e.keyCode){case 37:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 39:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case 38:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-3),this.pickerMomentChange.emit(t);break;case 40:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,3),this.pickerMomentChange.emit(t);break;case 36:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 35:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,11-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 33:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?-10:-1),this.pickerMomentChange.emit(t);break;case 34:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?10:1),this.pickerMomentChange.emit(t);break;case 13:this.selectMonth(this.dateTimeAdapter.getMonth(this.pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),e.preventDefault()}generateMonthList(){if(this.pickerMoment){this.setSelectedMonths(),this.todayMonth=this.getMonthInCurrentYear(this.dateTimeAdapter.now()),this._months=[];for(let e=0;e<mr/Bt;e++){let t=[];for(let i=0;i<Bt;i++){let r=i+e*Bt,o=this.createMonthCell(r);t.push(o)}this._months.push(t)}}}createMonthCell(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1),i=this.dateTimeAdapter.format(t,this.dateTimeFormats.monthYearA11yLabel),r="owl-dt-month-"+e;return new Ne(e,this.monthNames[e],i,this.isMonthEnabled(e),!1,r)}isMonthEnabled(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1);for(let i=t;this.dateTimeAdapter.getMonth(i)===e;i=this.dateTimeAdapter.addCalendarDays(i,1))if(i&&(!this.dateFilter||this.dateFilter(i))&&(!this.minDate||this.dateTimeAdapter.compare(i,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(i,this.maxDate)<=0))return!0;return!1}getMonthInCurrentYear(e){if(this.getValidDate(e)&&this.getValidDate(this._pickerMoment)){let t=this.dateTimeAdapter.compareYear(e,this._pickerMoment);return t<0?-1:t>0?12:this.dateTimeAdapter.getMonth(e)}else return null}setSelectedMonths(){this.selectedMonths=[],this.isInSingleMode&&this.selected&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selecteds[0]),this.selectedMonths[1]=this.getMonthInCurrentYear(this.selecteds[1]))}hasSameYear(e,t){return!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}};n.\u0275fac=function(t){return new(t||n)(m(W),m(j,8),m(le,8))},n.\u0275cmp=D({type:n,selectors:[["owl-date-time-year-view"]],viewQuery:function(t,i){if(t&1&&B(Oe,7),t&2){let r;F(r=R())&&(i.calendarBodyElm=r.first)}},hostVars:2,hostBindings:function(t,i){t&2&&E("owl-dt-calendar-view",i.owlDTCalendarView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{change:"change",monthSelected:"monthSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},exportAs:["owlMonthView"],decls:5,vars:7,consts:[[1,"owl-dt-calendar-table","owl-dt-calendar-year-table"],[1,"owl-dt-calendar-header"],["aria-hidden","true","colspan","3",1,"owl-dt-calendar-table-divider"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"]],template:function(t,i){t&1&&(l(0,"table",0)(1,"thead",1)(2,"tr"),y(3,"th",2),d()(),l(4,"tbody",3),C("keydown",function(o){return i.handleCalendarKeydown(o)})("select",function(o){return i.selectCalendarCell(o)}),d()()),t&2&&(c(4),p("rows",i.months)("numCols",3)("cellRatio",3/7)("activeCell",i.activeCell)("todayValue",i.todayMonth)("selectedValues",i.selectedMonths)("selectMode",i.selectMode))},dependencies:[Oe],changeDetection:0});let a=n;return a})(),Ht=7,ur=6,fr=(()=>{let n=class n{get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){e>=0&&e<=6&&e!==this._firstDayOfWeek&&(this._firstDayOfWeek=e,this.isDefaultFirstDayOfWeek=!1,this.initiated&&(this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()))}get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){let t=this._selected;e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.dateTimeAdapter.isSameDay(t,this._selected)||this.setSelectedDates()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.setSelectedDates()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){let t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),this.firstDateOfMonth=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this._pickerMoment),this.dateTimeAdapter.getMonth(this._pickerMoment),1),!this.isSameMonth(t,this._pickerMoment)&&this.initiated&&this.generateCalendar()}get dateFilter(){return this._dateFilter}set dateFilter(e){this._dateFilter=e,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get minDate(){return this._minDate}set minDate(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get maxDate(){return this._maxDate}set maxDate(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get weekdays(){return this._weekdays}get days(){return this._days}get activeCell(){if(this.pickerMoment)return this.dateTimeAdapter.getDate(this.pickerMoment)+this.firstRowOffset-1}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get owlDTCalendarView(){return!0}constructor(e,t,i){this.cdRef=e,this.dateTimeAdapter=t,this.dateTimeFormats=i,this.hideOtherMonths=!1,this.showCalendarWeeks=!1,this.isDefaultFirstDayOfWeek=!0,this._selectMode="single",this._selecteds=[],this.localeSub=A.EMPTY,this.initiated=!1,this.selectedDates=[],this.selectedChange=new _,this.userSelection=new _,this.pickerMomentChange=new _}ngOnInit(){this.updateFirstDayOfWeek(this.dateTimeAdapter.getLocale()),this.generateWeekDays(),this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(e=>{this.updateFirstDayOfWeek(e),this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateCalendar(),this.initiated=!0}ngOnDestroy(){this.localeSub.unsubscribe()}selectCalendarCell(e){!e.enabled||this.hideOtherMonths&&e.out||this.selectDate(e.value)}selectDate(e){let t=e-1,i=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,t);this.selectedChange.emit(i),this.userSelection.emit()}handleCalendarKeydown(e){let t;switch(e.keyCode){case 37:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 39:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case 38:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-7),this.pickerMomentChange.emit(t);break;case 40:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,7),this.pickerMomentChange.emit(t);break;case 36:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 35:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment)-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 33:t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 34:t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case 13:(!this.dateFilter||this.dateFilter(this.pickerMoment))&&this.selectDate(this.dateTimeAdapter.getDate(this.pickerMoment));break;default:return}this.focusActiveCell(),e.preventDefault()}generateWeekDays(){let e=this.dateTimeAdapter.getDayOfWeekNames("long"),t=this.dateTimeAdapter.getDayOfWeekNames("short"),i=this.dateTimeAdapter.getDayOfWeekNames("narrow"),r=this.firstDayOfWeek,o=e.map((h,g)=>({long:h,short:t[g],narrow:i[g]}));this._weekdays=o.slice(r).concat(o.slice(0,r)),this.dateNames=this.dateTimeAdapter.getDateNames()}generateCalendar(){if(!this.pickerMoment)return;this.todayDate=null,this.weekNumbers=[];let e=this.dateTimeAdapter.getDay(this.firstDateOfMonth),t=this.firstDayOfWeek,i=0-(e+(Ht-t))%Ht;this.firstRowOffset=Math.abs(i),this._days=[];for(let r=0;r<ur;r++){let o=[];for(let h=0;h<Ht;h++){let g=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,i),k=this.createDateCell(g,i);this.dateTimeAdapter.isSameDay(this.dateTimeAdapter.now(),g)&&(this.todayDate=i+1),o.push(k),i+=1}if(this._days.push(o),this.showCalendarWeeks){let h=this.getISOWeek(new Date(o[0].ariaLabel));this.weekNumbers.push(h)}}this.setSelectedDates()}getISOWeek(e){let t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));let i=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((+t-+i)/864e5+1)/7)}updateFirstDayOfWeek(e){if(this.isDefaultFirstDayOfWeek)try{this._firstDayOfWeek=wi(e)}catch{this._firstDayOfWeek=0}}createDateCell(e,t){let i=this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment),o=this.dateTimeAdapter.getDate(e).toString(),h=this.dateTimeAdapter.format(e,this.dateTimeFormats.dateA11yLabel),g=this.isDateEnabled(e),k=t+1,de=k<1||k>i,Dt="owl-dt-day-"+this.dateTimeAdapter.getDay(e);return new Ne(k,o,h,g,de,Dt)}isDateEnabled(e){return!!e&&(!this.dateFilter||this.dateFilter(e))&&(!this.minDate||this.dateTimeAdapter.compare(e,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(e,this.maxDate)<=0)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}isSameMonth(e,t){return!!(e&&t&&this.dateTimeAdapter.isValid(e)&&this.dateTimeAdapter.isValid(t)&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t))}setSelectedDates(){if(this.selectedDates=[],!!this.firstDateOfMonth){if(this.isInSingleMode&&this.selected){let e=this.dateTimeAdapter.differenceInCalendarDays(this.selected,this.firstDateOfMonth);this.selectedDates[0]=e+1;return}this.isInRangeMode&&this.selecteds&&(this.selectedDates=this.selecteds.map(e=>this.dateTimeAdapter.isValid(e)?this.dateTimeAdapter.differenceInCalendarDays(e,this.firstDateOfMonth)+1:null))}}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}};n.\u0275fac=function(t){return new(t||n)(m(W),m(j,8),m(le,8))},n.\u0275cmp=D({type:n,selectors:[["owl-date-time-month-view"]],viewQuery:function(t,i){if(t&1&&B(Oe,7),t&2){let r;F(r=R())&&(i.calendarBodyElm=r.first)}},hostVars:2,hostBindings:function(t,i){t&2&&E("owl-dt-calendar-view",i.owlDTCalendarView)},inputs:{hideOtherMonths:"hideOtherMonths",showCalendarWeeks:"showCalendarWeeks",firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{selectedChange:"selectedChange",userSelection:"userSelection",pickerMomentChange:"pickerMomentChange"},exportAs:["owlYearView"],decls:8,vars:15,consts:[["class","week-number",4,"ngIf"],[1,"owl-dt-calendar-table","owl-dt-calendar-month-table",3,"ngClass"],[1,"owl-dt-calendar-header"],[1,"owl-dt-weekdays"],["class","owl-dt-weekday","scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"owl-dt-calendar-table-divider",3,"ngClass"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","todayValue","selectedValues","selectMode","activeCell"],[1,"week-number"],[4,"ngFor","ngForOf"],["scope","col",1,"owl-dt-weekday"]],template:function(t,i){t&1&&(T(0,$a,2,1,"ul",0),l(1,"table",1)(2,"thead",2)(3,"tr",3),T(4,qa,3,2,"th",4),d(),l(5,"tr"),y(6,"th",5),d()(),l(7,"tbody",6),C("keydown",function(o){return i.handleCalendarKeydown(o)})("select",function(o){return i.selectCalendarCell(o)}),d()()),t&2&&(p("ngIf",i.showCalendarWeeks),c(),E("owl-dt-calendar-only-current-month",i.hideOtherMonths),p("ngClass",pe(11,Pn,i.showCalendarWeeks)),c(3),p("ngForOf",i.weekdays),c(2),p("ngClass",pe(13,Pn,i.showCalendarWeeks)),c(),p("rows",i.days)("todayValue",i.todayDate)("selectedValues",i.selectedDates)("selectMode",i.selectMode)("activeCell",i.activeCell))},dependencies:[it,Ot,Pe,Oe],styles:[".week-number[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;margin:46px 0 14px;padding:0;list-style:none;border-right:1px solid rgba(0,0,0,.12);width:8%;font-weight:700}.week-number[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8em}"],changeDetection:0});let a=n;return a})(),Fn=(()=>{let n=class n{get minDate(){return this._minDate}set minDate(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._minDate=e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):null}get maxDate(){return this._maxDate}set maxDate(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._maxDate=e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):null}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now()}get selected(){return this._selected}set selected(e){e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e)}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t)))}get periodButtonText(){return this.isMonthView?this.dateTimeAdapter.format(this.pickerMoment,this.dateTimeFormats.monthYearLabel):this.dateTimeAdapter.getYearName(this.pickerMoment)}get periodButtonLabel(){return this.isMonthView?this.pickerIntl.switchToMultiYearViewLabel:this.pickerIntl.switchToMonthViewLabel}get prevButtonLabel(){return this._currentView===b.MONTH?this.pickerIntl.prevMonthLabel:this._currentView===b.YEAR?this.pickerIntl.prevYearLabel:null}get nextButtonLabel(){return this._currentView===b.MONTH?this.pickerIntl.nextMonthLabel:this._currentView===b.YEAR?this.pickerIntl.nextYearLabel:null}get currentView(){return this._currentView}set currentView(e){this._currentView=e,this.moveFocusOnNextTick=!0}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get showControlArrows(){return this._currentView!==b.MULTI_YEARS}get isMonthView(){return this._currentView===b.MONTH}get owlDTCalendarClass(){return!0}constructor(e,t,i,r,o,h){this.elmRef=e,this.pickerIntl=t,this.ngZone=i,this.cdRef=r,this.dateTimeAdapter=o,this.dateTimeFormats=h,this.DateView=b,this._selecteds=[],this.startView=b.MONTH,this.yearOnly=!1,this.showCalendarWeeks=!1,this.multiyearOnly=!1,this.pickerMomentChange=new _,this.dateClicked=new _,this.selectedChange=new _,this.userSelection=new _,this.yearSelected=new _,this.monthSelected=new _,this.intlChangesSub=A.EMPTY,this.moveFocusOnNextTick=!1,this.dateFilterForViews=g=>!!g&&(!this.dateFilter||this.dateFilter(g))&&(!this.minDate||this.dateTimeAdapter.compare(g,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(g,this.maxDate)<=0),this.intlChangesSub=this.pickerIntl.changes.subscribe(()=>{this.cdRef.markForCheck()})}ngOnInit(){}ngAfterContentInit(){this._currentView=this.startView}ngAfterViewChecked(){this.moveFocusOnNextTick&&(this.moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this.intlChangesSub.unsubscribe()}toggleViews(){let e=null;this._currentView===b.MONTH||this.multiyearOnly?e=b.MULTI_YEARS:this.yearOnly?e=this._currentView===b.YEAR?b.MULTI_YEARS:b.YEAR:e=b.MONTH,this.currentView=e}previousClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1),this.pickerMomentChange.emit(this.pickerMoment)}nextClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1),this.pickerMomentChange.emit(this.pickerMoment)}dateSelected(e){this.dateFilterForViews(e)&&(this.dateClicked.emit(e),this.selectedChange.emit(e))}goToDateInView(e,t){this.handlePickerMomentChange(e),(!this.yearOnly&&!this.multiyearOnly||this.multiyearOnly&&t!==b.MONTH&&t!==b.YEAR||this.yearOnly&&t!==b.MONTH)&&(this.currentView=t)}handlePickerMomentChange(e){this.pickerMoment=this.dateTimeAdapter.clampDate(e,this.minDate,this.maxDate),this.pickerMomentChange.emit(this.pickerMoment)}userSelected(){this.userSelection.emit()}prevButtonEnabled(){return!this.minDate||!this.isSameView(this.pickerMoment,this.minDate)}nextButtonEnabled(){return!this.maxDate||!this.isSameView(this.pickerMoment,this.maxDate)}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(L(1)).subscribe(()=>{this.elmRef.nativeElement.querySelector(".owl-dt-calendar-cell-active").focus()})})}selectYearInMultiYearView(e){this.yearSelected.emit(e)}selectMonthInYearView(e){this.monthSelected.emit(e)}isSameView(e,t){return this._currentView===b.MONTH?!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t)):this._currentView===b.YEAR?!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)):!1}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}};n.\u0275fac=function(t){return new(t||n)(m(J),m(We),m(me),m(W),m(j,8),m(le,8))},n.\u0275cmp=D({type:n,selectors:[["owl-date-time-calendar"]],hostVars:2,hostBindings:function(t,i){t&2&&E("owl-dt-calendar",i.owlDTCalendarClass)},inputs:{minDate:"minDate",maxDate:"maxDate",pickerMoment:"pickerMoment",selected:"selected",selecteds:"selecteds",dateFilter:"dateFilter",firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",startView:"startView",yearOnly:"yearOnly",showCalendarWeeks:"showCalendarWeeks",multiyearOnly:"multiyearOnly",hideOtherMonths:"hideOtherMonths"},outputs:{pickerMomentChange:"pickerMomentChange",dateClicked:"dateClicked",selectedChange:"selectedChange",userSelection:"userSelection",yearSelected:"yearSelected",monthSelected:"monthSelected"},exportAs:["owlDateTimeCalendar"],decls:21,vars:16,consts:[[1,"owl-dt-calendar-control"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"owl-dt-calendar-control-content"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-control-period-button",3,"click"],[1,"owl-dt-control-button-arrow"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","50%","height","50%","viewBox","0 0 292.362 292.362",0,"xml","space","preserve",2,"enable-background","new 0 0 292.362 292.362"],["d",`M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424
                                C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428
                                s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z`],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d",`M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0
                    c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545
                    c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681
                    C197.237,120.447,195.534,115.448,191.75,111.689z`,2,"fill-rule","evenodd","clip-rule","evenodd"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"owl-dt-calendar-main",3,"ngSwitch"],[3,"pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","minDate","showCalendarWeeks","maxDate","dateFilter","hideOtherMonths","pickerMomentChange","selectedChange","userSelection",4,"ngSwitchCase"],[3,"pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","keyboardEnter","pickerMomentChange","monthSelected","change",4,"ngSwitchCase"],[3,"pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","keyboardEnter","pickerMomentChange","yearSelected","change",4,"ngSwitchCase"],[3,"pickerMomentChange","selectedChange","userSelection","pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","minDate","showCalendarWeeks","maxDate","dateFilter","hideOtherMonths"],[3,"keyboardEnter","pickerMomentChange","monthSelected","change","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter"],[3,"keyboardEnter","pickerMomentChange","yearSelected","change","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"button",1),C("click",function(){return i.previousClicked()}),l(2,"span",2),ae(),l(3,"svg",3),y(4,"path",4),d()()(),Te(),l(5,"div",5)(6,"button",6),C("click",function(){return i.toggleViews()}),l(7,"span",2),u(8),l(9,"span",7),ae(),l(10,"svg",8)(11,"g"),y(12,"path",9),d()()()()()(),Te(),l(13,"button",1),C("click",function(){return i.nextClicked()}),l(14,"span",2),ae(),l(15,"svg",10),y(16,"path",11),d()()()(),Te(),l(17,"div",12),T(18,Ga,1,10,"owl-date-time-month-view",13)(19,Qa,1,7,"owl-date-time-year-view",14)(20,Ka,1,7,"owl-date-time-multi-year-view",15),d()),t&2&&(c(),xe("visibility",i.showControlArrows?"visible":"hidden"),p("disabled",!i.prevButtonEnabled()),S("aria-label",i.prevButtonLabel),c(5),S("aria-label",i.periodButtonLabel),c(2),v(" ",i.periodButtonText," "),c(),xe("transform","rotate("+(i.isMonthView?0:180)+"deg)"),c(4),xe("visibility",i.showControlArrows?"visible":"hidden"),p("disabled",!i.nextButtonEnabled()),S("aria-label",i.nextButtonLabel),c(4),p("ngSwitch",i.currentView),c(),p("ngSwitchCase",i.DateView.MONTH),c(),p("ngSwitchCase",i.DateView.YEAR),c(),p("ngSwitchCase",i.DateView.MULTI_YEARS))},dependencies:[Mi,Ci,Oi,hr,pr,fr],changeDetection:0});let a=n;return a})(),gr=(()=>{let n=class n{get displayValue(){if(this.hasFocus)return this.valueInput.nativeElement.value;let e=this.boxValue||this.value;return e===null||isNaN(e)?"":e<10?"0"+e.toString():e.toString()}get owlDTTimerBoxClass(){return!0}constructor(){this.showDivider=!1,this.step=1,this.valueChange=new _,this.inputChange=new _,this.inputStream=new O,this.inputStreamSub=A.EMPTY,this.hasFocus=!1,this.onValueInputMouseWheelBind=this.onValueInputMouseWheel.bind(this)}ngOnInit(){this.inputStreamSub=this.inputStream.pipe(Kt(750)).subscribe(e=>{if(e){let t=ge(e,0);this.updateValueViaInput(t)}}),this.bindValueInputMouseWheel()}ngOnDestroy(){this.unbindValueInputMouseWheel(),this.inputStreamSub.unsubscribe()}upBtnClicked(){this.updateValue(this.value+this.step)}downBtnClicked(){this.updateValue(this.value-this.step)}handleInputChange(e){this.inputStream.next(e)}focusIn(){this.hasFocus=!0}focusOut(e){if(this.hasFocus=!1,e){let t=ge(e,0);this.updateValueViaInput(t)}}updateValue(e){this.valueChange.emit(e)}updateValueViaInput(e){e>this.max||e<this.min||this.inputChange.emit(e)}onValueInputMouseWheel(e){e=e||window.event;let t=e.wheelDelta||-e.deltaY||-e.detail;t>0?this.upBtnDisabled||this.upBtnClicked():t<0&&(this.downBtnDisabled||this.downBtnClicked()),e.preventDefault?e.preventDefault():e.returnValue=!1}bindValueInputMouseWheel(){this.valueInput.nativeElement.addEventListener("onwheel"in document?"wheel":"mousewheel",this.onValueInputMouseWheelBind)}unbindValueInputMouseWheel(){this.valueInput.nativeElement.removeEventListener("onwheel"in document?"wheel":"mousewheel",this.onValueInputMouseWheelBind)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=D({type:n,selectors:[["owl-date-time-timer-box"]],viewQuery:function(t,i){if(t&1&&B(Ua,7),t&2){let r;F(r=R())&&(i.valueInput=r.first)}},hostVars:2,hostBindings:function(t,i){t&2&&E("owl-dt-timer-box",i.owlDTTimerBoxClass)},inputs:{showDivider:"showDivider",upBtnAriaLabel:"upBtnAriaLabel",upBtnDisabled:"upBtnDisabled",downBtnAriaLabel:"downBtnAriaLabel",downBtnDisabled:"downBtnDisabled",boxValue:"boxValue",value:"value",min:"min",max:"max",step:"step",inputLabel:"inputLabel"},outputs:{valueChange:"valueChange",inputChange:"inputChange"},exportAs:["owlDateTimeTimerBox"],decls:14,vars:7,consts:[["valueInput",""],["class","owl-dt-timer-divider","aria-hidden","true",4,"ngIf"],["type","button","tabindex","-1",1,"owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 451.847 451.846",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 451.847 451.846"],["d",`M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0
                        L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4
                        c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z`],[1,"owl-dt-timer-content"],["maxlength","2",1,"owl-dt-timer-input",3,"keydown.arrowup","keydown.arrowdown","input","focusin","focusout","value"],[1,"owl-hidden-accessible"],["d",`M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751
                        c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0
                        c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z`],["aria-hidden","true",1,"owl-dt-timer-divider"]],template:function(t,i){if(t&1){let r=x();T(0,Za,1,0,"div",1),l(1,"button",2),C("click",function(){return w(r),M(i.upBtnClicked())}),l(2,"span",3),ae(),l(3,"svg",4),y(4,"path",5),d()()(),Te(),l(5,"label",6)(6,"input",7,0),C("keydown.arrowup",function(){return w(r),M(!i.upBtnDisabled&&i.upBtnClicked())})("keydown.arrowdown",function(){return w(r),M(!i.downBtnDisabled&&i.downBtnClicked())})("input",function(){w(r);let h=Q(7);return M(i.handleInputChange(h.value))})("focusin",function(){return w(r),M(i.focusIn())})("focusout",function(){w(r);let h=Q(7);return M(i.focusOut(h.value))}),d(),l(8,"span",8),u(9),d()(),l(10,"button",2),C("click",function(){return w(r),M(i.downBtnClicked())}),l(11,"span",3),ae(),l(12,"svg",4),y(13,"path",9),d()()()}t&2&&(p("ngIf",i.showDivider),c(),p("disabled",i.upBtnDisabled),S("aria-label",i.upBtnAriaLabel),c(5),p("value",i.displayValue),c(3),V(i.inputLabel),c(),p("disabled",i.downBtnDisabled),S("aria-label",i.downBtnAriaLabel))},dependencies:[Pe],changeDetection:0});let a=n;return a})(),Rn=(()=>{let n=class n{get pickerMoment(){return this._pickerMoment}set pickerMoment(e){e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now()}get minDateTime(){return this._minDateTime}set minDateTime(e){e=this.dateTimeAdapter.deserialize(e),this._minDateTime=this.getValidDate(e)}get maxDateTime(){return this._maxDateTime}set maxDateTime(e){e=this.dateTimeAdapter.deserialize(e),this._maxDateTime=this.getValidDate(e)}get hourValue(){return this.dateTimeAdapter.getHours(this.pickerMoment)}get hourBoxValue(){let e=this.hourValue;return this.hour12Timer&&(e===0?(e=12,this.isPM=!1):e>0&&e<12?this.isPM=!1:e===12?this.isPM=!0:e>12&&e<24&&(e=e-12,this.isPM=!0)),e}get minuteValue(){return this.dateTimeAdapter.getMinutes(this.pickerMoment)}get secondValue(){return this.dateTimeAdapter.getSeconds(this.pickerMoment)}get upHourButtonLabel(){return this.pickerIntl.upHourLabel}get downHourButtonLabel(){return this.pickerIntl.downHourLabel}get upMinuteButtonLabel(){return this.pickerIntl.upMinuteLabel}get downMinuteButtonLabel(){return this.pickerIntl.downMinuteLabel}get upSecondButtonLabel(){return this.pickerIntl.upSecondLabel}get downSecondButtonLabel(){return this.pickerIntl.downSecondLabel}get hour12ButtonLabel(){return this.isPM?this.pickerIntl.hour12PMLabel:this.pickerIntl.hour12AMLabel}get owlDTTimerClass(){return!0}get owlDTTimeTabIndex(){return-1}constructor(e,t,i,r,o){this.ngZone=e,this.elmRef=t,this.pickerIntl=i,this.cdRef=r,this.dateTimeAdapter=o,this.isPM=!1,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.selectedChange=new _}ngOnInit(){}focus(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(L(1)).subscribe(()=>{this.elmRef.nativeElement.focus()})})}setHourValueViaInput(e){this.hour12Timer&&this.isPM&&e>=1&&e<=11?e=e+12:this.hour12Timer&&!this.isPM&&e===12&&(e=0),this.setHourValue(e)}setHourValue(e){let t=this.dateTimeAdapter.setHours(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setMinuteValue(e){let t=this.dateTimeAdapter.setMinutes(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setSecondValue(e){let t=this.dateTimeAdapter.setSeconds(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setMeridiem(e){this.isPM=!this.isPM;let t=this.hourValue;this.isPM?t=t+12:t=t-12,t>=0&&t<=23&&this.setHourValue(t),this.cdRef.markForCheck(),e.preventDefault()}upHourEnabled(){return!this.maxDateTime||this.compareHours(this.stepHour,this.maxDateTime)<1}downHourEnabled(){return!this.minDateTime||this.compareHours(-this.stepHour,this.minDateTime)>-1}upMinuteEnabled(){return!this.maxDateTime||this.compareMinutes(this.stepMinute,this.maxDateTime)<1}downMinuteEnabled(){return!this.minDateTime||this.compareMinutes(-this.stepMinute,this.minDateTime)>-1}upSecondEnabled(){return!this.maxDateTime||this.compareSeconds(this.stepSecond,this.maxDateTime)<1}downSecondEnabled(){return!this.minDateTime||this.compareSeconds(-this.stepSecond,this.minDateTime)>-1}compareHours(e,t){let i=this.dateTimeAdapter.getHours(this.pickerMoment)+e,r=this.dateTimeAdapter.setHours(this.pickerMoment,i);return this.dateTimeAdapter.compare(r,t)}compareMinutes(e,t){let i=this.dateTimeAdapter.getMinutes(this.pickerMoment)+e,r=this.dateTimeAdapter.setMinutes(this.pickerMoment,i);return this.dateTimeAdapter.compare(r,t)}compareSeconds(e,t){let i=this.dateTimeAdapter.getSeconds(this.pickerMoment)+e,r=this.dateTimeAdapter.setSeconds(this.pickerMoment,i);return this.dateTimeAdapter.compare(r,t)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}};n.\u0275fac=function(t){return new(t||n)(m(me),m(J),m(We),m(W),m(j,8))},n.\u0275cmp=D({type:n,selectors:[["owl-date-time-timer"]],hostVars:3,hostBindings:function(t,i){t&2&&(S("tabindex",i.owlDTTimeTabIndex),E("owl-dt-timer",i.owlDTTimerClass))},inputs:{pickerMoment:"pickerMoment",minDateTime:"minDateTime",maxDateTime:"maxDateTime",showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond"},outputs:{selectedChange:"selectedChange"},exportAs:["owlDateTimeTimer"],decls:4,vars:22,consts:[[3,"inputChange","valueChange","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","boxValue","value","min","max","step","inputLabel"],[3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputLabel"],[3,"showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputLabel","inputChange","valueChange",4,"ngIf"],["class","owl-dt-timer-hour12",4,"ngIf"],[1,"owl-dt-timer-hour12"],["type","button","tabindex","0",1,"owl-dt-control-button","owl-dt-timer-hour12-box",3,"click"],["tabindex","-1",1,"owl-dt-control-button-content"]],template:function(t,i){t&1&&(l(0,"owl-date-time-timer-box",0),C("inputChange",function(o){return i.setHourValueViaInput(o)})("valueChange",function(o){return i.setHourValue(o)}),d(),l(1,"owl-date-time-timer-box",1),C("inputChange",function(o){return i.setMinuteValue(o)})("valueChange",function(o){return i.setMinuteValue(o)}),d(),T(2,Xa,1,10,"owl-date-time-timer-box",2)(3,Ja,4,1,"div",3)),t&2&&(p("upBtnAriaLabel",i.upHourButtonLabel)("downBtnAriaLabel",i.downHourButtonLabel)("upBtnDisabled",!i.upHourEnabled())("downBtnDisabled",!i.downHourEnabled())("boxValue",i.hourBoxValue)("value",i.hourValue)("min",0)("max",23)("step",i.stepHour)("inputLabel","Hour"),c(),p("showDivider",!0)("upBtnAriaLabel",i.upMinuteButtonLabel)("downBtnAriaLabel",i.downMinuteButtonLabel)("upBtnDisabled",!i.upMinuteEnabled())("downBtnDisabled",!i.downMinuteEnabled())("value",i.minuteValue)("min",0)("max",59)("step",i.stepMinute)("inputLabel","Minute"),c(),p("ngIf",i.showSecondsTimer),c(),p("ngIf",i.hour12Timer))},dependencies:[Pe,gr],changeDetection:0});let a=n;return a})(),Ln={transformPicker:De("transformPicker",[_e("void",P({opacity:0,transform:"scale(1, 0)"})),_e("enter",P({opacity:1,transform:"scale(1, 1)"})),ie("void => enter",ct([Ki("@fadeInPicker",ht(),{optional:!0}),U("400ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),ie("enter => void",U("100ms linear",P({opacity:0})))]),fadeInPicker:De("fadeInPicker",[_e("enter",P({opacity:1})),_e("void",P({opacity:0})),ie("void => enter",U("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Mt=(()=>{let n=class n{get hidePickerStream(){return this.hidePicker$.asObservable()}get confirmSelectedStream(){return this.confirmSelected$.asObservable()}get beforePickerOpenedStream(){return this.beforePickerOpened$.asObservable()}get pickerOpenedStream(){return this.pickerOpened$.asObservable()}get pickerMoment(){return this._clamPickerMoment}set pickerMoment(e){e&&(this._clamPickerMoment=this.dateTimeAdapter.clampDate(e,this.picker.minDateTime,this.picker.maxDateTime)),this.cdRef.markForCheck()}get pickerType(){return this.picker.pickerType}get cancelLabel(){return this.pickerIntl.cancelBtnLabel}get setLabel(){return this.pickerIntl.setBtnLabel}get fromLabel(){return this.pickerIntl.rangeFromLabel}get toLabel(){return this.pickerIntl.rangeToLabel}get fromFormattedValue(){let e=this.picker.selecteds[0];return e?this.dateTimeAdapter.format(e,this.picker.formatString):""}get toFormattedValue(){let e=this.picker.selecteds[1];return e?this.dateTimeAdapter.format(e,this.picker.formatString):""}get showControlButtons(){return this.picker.pickerMode==="dialog"||this.picker.pickerType!=="calendar"&&this.picker.pickerMode!=="inline"}get containerElm(){return this.elmRef.nativeElement}get owlDTContainerClass(){return!0}get owlDTPopupContainerClass(){return this.picker.pickerMode==="popup"}get owlDTDialogContainerClass(){return this.picker.pickerMode==="dialog"}get owlDTInlineContainerClass(){return this.picker.pickerMode==="inline"}get owlDTContainerDisabledClass(){return this.picker.disabled}get owlDTContainerId(){return this.picker.id}get owlDTContainerAnimation(){return this.picker.pickerMode==="inline"?"":"enter"}constructor(e,t,i,r){this.cdRef=e,this.elmRef=t,this.pickerIntl=i,this.dateTimeAdapter=r,this.activeSelectedIndex=0,this.hidePicker$=new O,this.confirmSelected$=new O,this.beforePickerOpened$=new O,this.pickerOpened$=new O}ngOnInit(){this.picker.selectMode==="range"&&(this.picker.selecteds[0]&&(this.retainStartTime=this.dateTimeAdapter.clone(this.picker.selecteds[0])),this.picker.selecteds[1]&&(this.retainEndTime=this.dateTimeAdapter.clone(this.picker.selecteds[1])))}ngAfterContentInit(){this.initPicker()}ngAfterViewInit(){this.focusPicker()}handleContainerAnimationStart(e){e.toState==="enter"&&this.beforePickerOpened$.next(null)}handleContainerAnimationDone(e){e.toState==="enter"&&this.pickerOpened$.next(null)}dateSelected(e){let t;if(this.picker.isInSingleMode){t=this.dateSelectedInSingleMode(e),t?(this.pickerMoment=t,this.picker.select(t)):this.pickerType==="calendar"&&this.hidePicker$.next(null);return}this.picker.isInRangeMode&&(t=this.dateSelectedInRangeMode(e),t&&(this.pickerMoment=t[this.activeSelectedIndex],this.picker.select(t)))}timeSelected(e){if(this.pickerMoment=this.dateTimeAdapter.clone(e),!!this.picker.dateTimeChecker(this.pickerMoment)){if(this.picker.isInSingleMode){this.picker.select(this.pickerMoment);return}if(this.picker.isInRangeMode){let t=[...this.picker.selecteds];this.activeSelectedIndex===0&&t[1]&&this.dateTimeAdapter.compare(this.pickerMoment,t[1])===1||this.activeSelectedIndex===1&&t[0]&&this.dateTimeAdapter.compare(this.pickerMoment,t[0])===-1?(t[0]=this.pickerMoment,t[1]=this.pickerMoment):t[this.activeSelectedIndex]=this.pickerMoment,t[0]&&(this.retainStartTime=this.dateTimeAdapter.clone(t[0])),t[1]&&(this.retainEndTime=this.dateTimeAdapter.clone(t[1])),this.picker.select(t)}}}onCancelClicked(e){this.hidePicker$.next(null),e.preventDefault()}onSetClicked(e){if(!this.picker.dateTimeChecker(this.pickerMoment)){this.hidePicker$.next(null),e.preventDefault();return}this.confirmSelected$.next(e),e.preventDefault()}handleClickOnInfoGroup(e,t){this.setActiveSelectedIndex(t),e.preventDefault(),e.stopPropagation()}handleKeydownOnInfoGroup(e,t,i){switch(e.keyCode){case 40:case 39:case 38:case 37:t.focus(),this.setActiveSelectedIndex(i===0?1:0),e.preventDefault(),e.stopPropagation();break;case 32:this.setActiveSelectedIndex(i),e.preventDefault(),e.stopPropagation();break;default:return}}setActiveSelectedIndex(e){if(this.picker.selectMode==="range"&&this.activeSelectedIndex!==e){this.activeSelectedIndex=e;let t=this.picker.selecteds[this.activeSelectedIndex];this.picker.selecteds&&t&&(this.pickerMoment=this.dateTimeAdapter.clone(t))}}initPicker(){this.pickerMoment=this.picker.startAt||this.dateTimeAdapter.now(),this.activeSelectedIndex=this.picker.selectMode==="rangeTo"?1:0}dateSelectedInSingleMode(e){return this.dateTimeAdapter.isSameDay(e,this.picker.selected)?null:this.updateAndCheckCalendarDate(e)}dateSelectedInRangeMode(e){let t=this.picker.selecteds[0],i=this.picker.selecteds[1],r=this.updateAndCheckCalendarDate(e);return r?(this.picker.selectMode==="range"?this.picker.selecteds&&this.picker.selecteds.length&&!i&&t&&this.dateTimeAdapter.differenceInCalendarDays(r,t)>=0?(this.picker.endAt&&!this.retainEndTime?i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(r),this.dateTimeAdapter.getMonth(r),this.dateTimeAdapter.getDate(r),this.dateTimeAdapter.getHours(this.picker.endAt),this.dateTimeAdapter.getMinutes(this.picker.endAt),this.dateTimeAdapter.getSeconds(this.picker.endAt)):this.retainEndTime?i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(r),this.dateTimeAdapter.getMonth(r),this.dateTimeAdapter.getDate(r),this.dateTimeAdapter.getHours(this.retainEndTime),this.dateTimeAdapter.getMinutes(this.retainEndTime),this.dateTimeAdapter.getSeconds(this.retainEndTime)):i=r,this.activeSelectedIndex=1):(this.picker.startAt&&!this.retainStartTime?t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(r),this.dateTimeAdapter.getMonth(r),this.dateTimeAdapter.getDate(r),this.dateTimeAdapter.getHours(this.picker.startAt),this.dateTimeAdapter.getMinutes(this.picker.startAt),this.dateTimeAdapter.getSeconds(this.picker.startAt)):this.retainStartTime?t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(r),this.dateTimeAdapter.getMonth(r),this.dateTimeAdapter.getDate(r),this.dateTimeAdapter.getHours(this.retainStartTime),this.dateTimeAdapter.getMinutes(this.retainStartTime),this.dateTimeAdapter.getSeconds(this.retainStartTime)):t=r,i=null,this.activeSelectedIndex=0):this.picker.selectMode==="rangeFrom"?(t=r,i&&this.dateTimeAdapter.compare(t,i)>0&&(i=null)):this.picker.selectMode==="rangeTo"&&(i=r,t&&this.dateTimeAdapter.compare(t,i)>0&&(t=null)),[t,i]):null}updateAndCheckCalendarDate(e){let t;return this.picker.pickerType==="both"?(t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment)),t=this.dateTimeAdapter.clampDate(t,this.picker.minDateTime,this.picker.maxDateTime)):t=this.dateTimeAdapter.clone(e),this.picker.dateTimeChecker(t)?t:null}focusPicker(){this.picker.pickerMode!=="inline"&&(this.calendar?this.calendar.focusActiveCell():this.timer&&this.timer.focus())}};n.\u0275fac=function(t){return new(t||n)(m(W),m(J),m(We),m(j,8))},n.\u0275cmp=D({type:n,selectors:[["owl-date-time-container"]],viewQuery:function(t,i){if(t&1&&(B(Fn,5),B(Rn,5)),t&2){let r;F(r=R())&&(i.calendar=r.first),F(r=R())&&(i.timer=r.first)}},hostVars:12,hostBindings:function(t,i){t&1&&St("@transformPicker.start",function(o){return i.handleContainerAnimationStart(o)})("@transformPicker.done",function(o){return i.handleContainerAnimationDone(o)}),t&2&&(kt("@transformPicker",i.owlDTContainerAnimation),S("id",i.owlDTContainerId),E("owl-dt-container",i.owlDTContainerClass)("owl-dt-popup-container",i.owlDTPopupContainerClass)("owl-dt-dialog-container",i.owlDTDialogContainerClass)("owl-dt-inline-container",i.owlDTInlineContainerClass)("owl-dt-container-disabled",i.owlDTContainerDisabledClass))},exportAs:["owlDateTimeContainer"],decls:5,vars:6,consts:[["from",""],["to",""],[1,"owl-dt-container-inner",3,"cdkTrapFocus"],["class","owl-dt-container-row",3,"firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","startView","yearOnly","showCalendarWeeks","multiyearOnly","hideOtherMonths","pickerMomentChange","yearSelected","monthSelected","dateClicked","selectedChange",4,"ngIf"],["class","owl-dt-container-row",3,"pickerMoment","minDateTime","maxDateTime","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond","selectedChange",4,"ngIf"],["role","radiogroup","class","owl-dt-container-info owl-dt-container-row",4,"ngIf"],["class","owl-dt-container-buttons owl-dt-container-row",4,"ngIf"],[1,"owl-dt-container-row",3,"pickerMomentChange","yearSelected","monthSelected","dateClicked","selectedChange","firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","startView","yearOnly","showCalendarWeeks","multiyearOnly","hideOtherMonths"],[1,"owl-dt-container-row",3,"selectedChange","pickerMoment","minDateTime","maxDateTime","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radiogroup",1,"owl-dt-container-info","owl-dt-container-row"],["role","radio",1,"owl-dt-control","owl-dt-container-range","owl-dt-container-from",3,"click","keydown","tabindex","ngClass"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-container-range-content"],[1,"owl-dt-container-info-label"],[1,"owl-dt-container-info-value"],["role","radio",1,"owl-dt-control","owl-dt-container-range","owl-dt-container-to",3,"click","keydown","tabindex","ngClass"],[1,"owl-dt-container-buttons","owl-dt-container-row"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-container-control-button",3,"click"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-control-button-content"]],template:function(t,i){t&1&&(l(0,"div",2),T(1,er,1,13,"owl-date-time-calendar",3)(2,tr,1,8,"owl-date-time-timer",4)(3,ir,15,14,"div",5)(4,nr,7,2,"div",6),d()),t&2&&(p("cdkTrapFocus",i.picker.pickerMode!=="inline")("@fadeInPicker",i.picker.pickerMode==="inline"?"":"enter"),c(),p("ngIf",i.pickerType==="both"||i.pickerType==="calendar"),c(),p("ngIf",i.pickerType==="both"||i.pickerType==="timer"),c(),p("ngIf",i.picker.isInRangeMode),c(),p("ngIf",i.showControlButtons))},dependencies:[it,Pe,Ai,Rn,Fn],data:{animation:[Ln.transformPicker,Ln.fadeInPicker]},changeDetection:0});let a=n;return a})(),_r=0,Wt=class{constructor(){this.ariaDescribedBy=null,this.autoFocus=!0,this.hasBackdrop=!0,this.data=null,this.disableClose=!1,this.role="dialog",this.paneClass="",this.event=null,this.backdropClass="",this.closeOnNavigation=!0,this.width="",this.height="",this.maxWidth="85vw",this.scrollStrategy=new nn,this.id=`owl-dialog-${_r++}`}},Ct=class{constructor(n,s,e,t){this.overlayRef=n,this.container=s,this.id=e,this._beforeClose$=new O,this._beforeOpen$=new O,this._afterOpen$=new O,this._afterClosed$=new O,this.locationChanged=A.EMPTY,this.disableClose=!0,this.disableClose=this.container.config.disableClose,this.container.animationStateChanged.pipe(z(i=>i.phaseName==="start"&&i.toState==="enter"),L(1)).subscribe(()=>{this._beforeOpen$.next(null),this._beforeOpen$.complete()}),this.container.animationStateChanged.pipe(z(i=>i.phaseName==="done"&&i.toState==="enter"),L(1)).subscribe(()=>{this._afterOpen$.next(null),this._afterOpen$.complete()}),this.container.animationStateChanged.pipe(z(i=>i.phaseName==="done"&&i.toState==="exit"),L(1)).subscribe(()=>{this.overlayRef.dispose(),this.locationChanged.unsubscribe(),this._afterClosed$.next(this.result),this._afterClosed$.complete(),this.componentInstance=null}),this.overlayRef.keydownEvents().pipe(z(i=>i.keyCode===27&&!this.disableClose)).subscribe(()=>this.close()),t&&(this.locationChanged=t.subscribe(()=>{this.container.config.closeOnNavigation&&this.close()}))}close(n){this.result=n,this.container.animationStateChanged.pipe(z(s=>s.phaseName==="start"),L(1)).subscribe(()=>{this._beforeClose$.next(n),this._beforeClose$.complete(),this.overlayRef.detachBackdrop()}),this.container.startExitAnimation()}backdropClick(){return this.overlayRef.backdropClick()}keydownEvents(){return this.overlayRef.keydownEvents()}updatePosition(n){let s=this.getPositionStrategy();return n&&(n.left||n.right)?n.left?s.left(n.left):s.right(n.right):s.centerHorizontally(),n&&(n.top||n.bottom)?n.top?s.top(n.top):s.bottom(n.bottom):s.centerVertically(),this.overlayRef.updatePosition(),this}updateSize(n="auto",s="auto"){return this.getPositionStrategy().width(n).height(s),this.overlayRef.updatePosition(),this}isAnimating(){return this.container.isAnimating}beforeOpen(){return this._beforeOpen$.asObservable()}afterOpen(){return this._afterOpen$.asObservable()}beforeClose(){return this._beforeClose$.asObservable()}afterClosed(){return this._afterClosed$.asObservable()}getPositionStrategy(){return this.overlayRef.getConfig().positionStrategy}},wr={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})"},Mr={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})",transformOrigin:"{{ ox }} {{ oy }}"},Yn=(()=>{let n=class n extends Zi{get config(){return this._config}get owlDialogContainerClass(){return!0}get owlDialogContainerTabIndex(){return-1}get owlDialogContainerId(){return this._config.id}get owlDialogContainerRole(){return this._config.role||null}get owlDialogContainerAriaLabelledby(){return this.ariaLabelledBy}get owlDialogContainerAriaDescribedby(){return this._config.ariaDescribedBy||null}get owlDialogContainerAnimation(){return{value:this.state,params:this.params}}constructor(e,t,i,r){super(),this.changeDetector=e,this.elementRef=t,this.focusTrapFactory=i,this.document=r,this.portalOutlet=null,this.ariaLabelledBy=null,this.animationStateChanged=new _,this.isAnimating=!1,this.state="enter",this.params={x:"0px",y:"0px",ox:"50%",oy:"50%",scale:0},this.elementFocusedBeforeDialogWasOpened=null}ngOnInit(){}attachComponentPortal(e){if(this.portalOutlet.hasAttached())throw Error("Attempting to attach dialog content after content is already attached");return this.savePreviouslyFocusedElement(),this.portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){throw new Error("Method not implemented.")}setConfig(e){this._config=e,e.event&&this.calculateZoomOrigin(event)}onAnimationStart(e){this.isAnimating=!0,this.animationStateChanged.emit(e)}onAnimationDone(e){e.toState==="enter"?this.trapFocus():e.toState==="exit"&&this.restoreFocus(),this.animationStateChanged.emit(e),this.isAnimating=!1}startExitAnimation(){this.state="exit",this.changeDetector.markForCheck()}calculateZoomOrigin(e){if(!e)return;let t=e.clientX,i=e.clientY,r=window.innerWidth/2,o=window.innerHeight/2,h=t-r,g=i-o,k=t/window.innerWidth,de=i/window.innerHeight;this.params.x=`${h}px`,this.params.y=`${g}px`,this.params.ox=`${k*100}%`,this.params.oy=`${de*100}%`,this.params.scale=0}savePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeDialogWasOpened=this.document.activeElement,Promise.resolve().then(()=>this.elementRef.nativeElement.focus()))}trapFocus(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement)),this._config.autoFocus&&this.focusTrap.focusInitialElementWhenReady()}restoreFocus(){let e=this.elementFocusedBeforeDialogWasOpened;e&&typeof e.focus=="function"&&e.focus(),this.focusTrap&&this.focusTrap.destroy()}};n.\u0275fac=function(t){return new(t||n)(m(W),m(J),m(Si),m(Ve,8))},n.\u0275cmp=D({type:n,selectors:[["owl-dialog-container"]],viewQuery:function(t,i){if(t&1&&B(pt,7),t&2){let r;F(r=R())&&(i.portalOutlet=r.first)}},hostVars:8,hostBindings:function(t,i){t&1&&St("@slideModal.start",function(o){return i.onAnimationStart(o)})("@slideModal.done",function(o){return i.onAnimationDone(o)}),t&2&&(kt("@slideModal",i.owlDialogContainerAnimation),S("tabindex",i.owlDialogContainerTabIndex)("id",i.owlDialogContainerId)("role",i.owlDialogContainerRole)("aria-labelledby",i.owlDialogContainerAriaLabelledby)("aria-describedby",i.owlDialogContainerAriaDescribedby),E("owl-dialog-container",i.owlDialogContainerClass))},features:[Xe],decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(t,i){t&1&&T(0,ar,0,0,"ng-template",0)},dependencies:[pt],encapsulation:2,data:{animation:[De("slideModal",[ie("void => enter",[P(Mr),U("300ms cubic-bezier(0.35, 0, 0.25, 1)",P("*")),U("150ms",Qi([P({transform:"scale(1)",offset:0}),P({transform:"scale(1.05)",offset:.3}),P({transform:"scale(.95)",offset:.8}),P({transform:"scale(1)",offset:1})])),ht()],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%",scale:1}}),ie("enter => exit",[ht(),U(200,P(wr))],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%"}})])]}});let a=n;return a})();function Cr(a,...n){if(a==null)throw TypeError("Cannot convert undefined or null to object");for(let s of n)if(s!=null)for(let e in s)s.hasOwnProperty(e)&&(a[e]=s[e]);return a}var Tr=new $("OwlDialogData"),$n=new $("owl-dialog-scroll-strategy");function yr(a){return()=>a.scrollStrategies.block()}var Dr={provide:$n,deps:[Z],useFactory:yr},vr=new $("owl-dialog-default-options"),qn=(()=>{let n=class n{get openDialogs(){return this.parentDialog?this.parentDialog.openDialogs:this._openDialogsAtThisLevel}get beforeOpen(){return this.parentDialog?this.parentDialog.beforeOpen:this._beforeOpenAtThisLevel}get afterOpen(){return this.parentDialog?this.parentDialog.afterOpen:this._afterOpenAtThisLevel}get _afterAllClosed(){let e=this.parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}constructor(e,t,i,r,o,h,g){this.overlay=e,this.injector=t,this.location=i,this.defaultOptions=o,this.parentDialog=h,this.overlayContainer=g,this.ariaHiddenElements=new Map,this._openDialogsAtThisLevel=[],this._beforeOpenAtThisLevel=new O,this._afterOpenAtThisLevel=new O,this._afterAllClosedAtThisLevel=new O,this.afterAllClosed=je(()=>this._openDialogsAtThisLevel.length?this._afterAllClosed:this._afterAllClosed.pipe($e(void 0))),this.scrollStrategy=r,!h&&i&&i.subscribe(()=>this.closeAll())}open(e,t){if(t=br(t,this.defaultOptions),t.id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);let i=this.createOverlay(t),r=this.attachDialogContainer(i,t),o=this.attachDialogContent(e,r,i,t);return this.openDialogs.length||this.hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this.removeOpenDialog(o)),this.beforeOpen.next(o),this.afterOpen.next(o),o}closeAll(){let e=this.openDialogs.length;for(;e--;)this.openDialogs[e].close()}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}attachDialogContent(e,t,i,r){let o=new Ct(i,t,r.id,this.location);if(r.hasBackdrop&&i.backdropClick().subscribe(()=>{o.disableClose||o.close()}),!(e instanceof Ue)){let h=this.createInjector(r,o,t),g=t.attachComponentPortal(new mt(e,void 0,h));o.componentInstance=g.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o}createInjector(e,t,i){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=new WeakMap;return o.set(Ct,t),o.set(Yn,i),o.set(Tr,e.data),new Ji(r||this.injector,o)}createOverlay(e){let t=this.getOverlayConfig(e);return this.overlay.create(t)}attachDialogContainer(e,t){let i=new mt(Yn,t.viewContainerRef),r=e.attach(i);return r.instance.setConfig(t),r.instance}getOverlayConfig(e){let t=new Ye({positionStrategy:this.overlay.position().global(),scrollStrategy:e.scrollStrategy||this.scrollStrategy(),panelClass:e.paneClass,hasBackdrop:e.hasBackdrop,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}removeOpenDialog(e){let t=this._openDialogsAtThisLevel.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this.ariaHiddenElements.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this.ariaHiddenElements.clear(),this._afterAllClosed.next()))}hideNonDialogContentFromAssistiveTechnology(){let e=this.overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let r=t[i];r!==e&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this.ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}};n.\u0275fac=function(t){return new(t||n)(X(Z),X(Ke),X(_i,8),X($n),X(vr,8),X(n,12),X(an))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac});let a=n;return a})();function br(a,n){return Cr(new Wt,a,n)}var Gn=new $("owl-dtpicker-scroll-strategy");function kr(a){return()=>a.scrollStrategies.block()}var Sr={provide:Gn,deps:[Z],useFactory:kr},Qn=(()=>{let n=class n extends zn{get startAt(){if(this._startAt)return this._startAt;if(this._dtInput){if(this._dtInput.selectMode==="single")return this._dtInput.value||null;if(this._dtInput.selectMode==="range"||this._dtInput.selectMode==="rangeFrom")return this._dtInput.values[0]||null;if(this._dtInput.selectMode==="rangeTo")return this._dtInput.values[1]||null}else return null}set startAt(e){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get endAt(){if(this._endAt)return this._endAt;if(this._dtInput){if(this._dtInput.selectMode==="single")return this._dtInput.value||null;if(this._dtInput.selectMode==="range"||this._dtInput.selectMode==="rangeFrom")return this._dtInput.values[1]||null}else return null}set endAt(e){this._endAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get pickerType(){return this._pickerType}set pickerType(e){e!==this._pickerType&&(this._pickerType=e,this._dtInput&&this._dtInput.formatNativeInputValue())}get pickerMode(){return this._pickerMode}set pickerMode(e){e==="popup"?this._pickerMode=e:this._pickerMode="dialog"}get disabled(){return this._disabled===void 0&&this._dtInput?this._dtInput.disabled:!!this._disabled}set disabled(e){e=fe(e),e!==this._disabled&&(this._disabled=e,this.disabledChange.next(e))}get opened(){return this._opened}set opened(e){e?this.open():this.close()}get dtInput(){return this._dtInput}get selected(){return this._selected}set selected(e){this._selected=e,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e,this.changeDetector.markForCheck()}get minDateTime(){return this._dtInput&&this._dtInput.min}get maxDateTime(){return this._dtInput&&this._dtInput.max}get dateTimeFilter(){return this._dtInput&&this._dtInput.dateTimeFilter}get selectMode(){return this._dtInput.selectMode}get isInSingleMode(){return this._dtInput.isInSingleMode}get isInRangeMode(){return this._dtInput.isInRangeMode}constructor(e,t,i,r,o,h,g,k,de){super(h,k),this.overlay=e,this.viewContainerRef=t,this.dialogService=i,this.ngZone=r,this.changeDetector=o,this.dateTimeAdapter=h,this.dateTimeFormats=k,this.document=de,this.backdropClass=[],this.panelClass=[],this._pickerType="both",this._pickerMode="popup",this._opened=!1,this.afterPickerClosed=new _,this.beforePickerOpen=new _,this.afterPickerOpen=new _,this.yearSelected=new _,this.monthSelected=new _,this.dateSelected=new _,this.confirmSelectedChange=new _,this.disabledChange=new _,this.dtInputSub=A.EMPTY,this.hidePickerStreamSub=A.EMPTY,this.confirmSelectedStreamSub=A.EMPTY,this.pickerOpenedStreamSub=A.EMPTY,this.pickerBeforeOpenedStreamSub=A.EMPTY,this.focusedElementBeforeOpen=null,this._selecteds=[],this.defaultScrollStrategy=g}ngOnInit(){}ngOnDestroy(){this.close(),this.dtInputSub.unsubscribe(),this.disabledChange.complete(),this.popupRef&&this.popupRef.dispose()}registerInput(e){if(this._dtInput)throw Error("A Owl DateTimePicker can only be associated with a single input.");this._dtInput=e,this.dtInputSub=this._dtInput.valueChange.subscribe(t=>{Array.isArray(t)?this.selecteds=t:this.selected=t})}open(){if(!(this._opened||this.disabled)){if(!this._dtInput)throw Error("Attempted to open an DateTimePicker with no associated input.");this.document&&(this.focusedElementBeforeOpen=this.document.activeElement),this.isInSingleMode?this.selected=this._dtInput.value:this.isInRangeMode&&(this.selecteds=this._dtInput.values),this.selected&&this.pickerType!=="calendar"&&this._startAt&&(this.selected=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.selected),this.dateTimeAdapter.getMonth(this.selected),this.dateTimeAdapter.getDate(this.selected),this.dateTimeAdapter.getHours(this._startAt),this.dateTimeAdapter.getMinutes(this._startAt),this.dateTimeAdapter.getSeconds(this._startAt))),this.pickerMode==="dialog"?this.openAsDialog():this.openAsPopup(),this.pickerContainer.picker=this,this.hidePickerStreamSub=this.pickerContainer.hidePickerStream.subscribe(()=>{this.close()}),this.confirmSelectedStreamSub=this.pickerContainer.confirmSelectedStream.subscribe(e=>{this.confirmSelect(e)})}}select(e){Array.isArray(e)?this.selecteds=[...e]:this.selected=e,this.pickerMode!=="dialog"&&this.pickerType==="calendar"&&(this.selectMode==="single"&&this.selected||this.selectMode==="rangeFrom"&&this.selecteds[0]||this.selectMode==="rangeTo"&&this.selecteds[1]||this.selectMode==="range"&&this.selecteds[0]&&this.selecteds[1])&&this.confirmSelect()}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}selectDate(e){this.dateSelected.emit(e)}close(){if(!this._opened)return;this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this.pickerContainerPortal&&this.pickerContainerPortal.isAttached&&this.pickerContainerPortal.detach(),this.hidePickerStreamSub&&(this.hidePickerStreamSub.unsubscribe(),this.hidePickerStreamSub=null),this.confirmSelectedStreamSub&&(this.confirmSelectedStreamSub.unsubscribe(),this.confirmSelectedStreamSub=null),this.pickerBeforeOpenedStreamSub&&(this.pickerBeforeOpenedStreamSub.unsubscribe(),this.pickerBeforeOpenedStreamSub=null),this.pickerOpenedStreamSub&&(this.pickerOpenedStreamSub.unsubscribe(),this.pickerOpenedStreamSub=null),this.dialogRef&&(this.dialogRef.close(),this.dialogRef=null);let e=()=>{if(this._opened){this._opened=!1;let t=this.selected||this.selecteds;this.afterPickerClosed.emit(t),this.focusedElementBeforeOpen=null}};this.focusedElementBeforeOpen&&typeof this.focusedElementBeforeOpen.focus=="function"?(this.focusedElementBeforeOpen.focus(),setTimeout(e)):e()}confirmSelect(e){if(this.isInSingleMode){let t=this.selected||this.startAt||this.dateTimeAdapter.now();this.confirmSelectedChange.emit(t)}else this.isInRangeMode&&this.confirmSelectedChange.emit(this.selecteds);this.close()}openAsDialog(){this.dialogRef=this.dialogService.open(Mt,{autoFocus:!1,backdropClass:["cdk-overlay-dark-backdrop",...Fe(this.backdropClass)],paneClass:["owl-dt-dialog",...Fe(this.panelClass)],viewContainerRef:this.viewContainerRef,scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy()}),this.pickerContainer=this.dialogRef.componentInstance,this.dialogRef.beforeOpen().subscribe(()=>{this.beforePickerOpen.emit(null)}),this.dialogRef.afterOpen().subscribe(()=>{this.afterPickerOpen.emit(null),this._opened=!0}),this.dialogRef.afterClosed().subscribe(()=>this.close())}openAsPopup(){if(this.pickerContainerPortal||(this.pickerContainerPortal=new mt(Mt,this.viewContainerRef)),this.popupRef||this.createPopup(),!this.popupRef.hasAttached()){let e=this.popupRef.attach(this.pickerContainerPortal);this.pickerContainer=e.instance,this.ngZone.onStable.asObservable().pipe(L(1)).subscribe(()=>{this.popupRef.updatePosition()}),this.pickerBeforeOpenedStreamSub=this.pickerContainer.beforePickerOpenedStream.pipe(L(1)).subscribe(()=>{this.beforePickerOpen.emit(null)}),this.pickerOpenedStreamSub=this.pickerContainer.pickerOpenedStream.pipe(L(1)).subscribe(()=>{this.afterPickerOpen.emit(null),this._opened=!0})}}createPopup(){let e=new Ye({positionStrategy:this.createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:["cdk-overlay-transparent-backdrop",...Fe(this.backdropClass)],scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy(),panelClass:["owl-dt-popup",...Fe(this.panelClass)]});this.popupRef=this.overlay.create(e),ne(this.popupRef.backdropClick(),this.popupRef.detachments(),this.popupRef.keydownEvents().pipe(z(t=>t.keyCode===27||this._dtInput&&t.altKey&&t.keyCode===38))).subscribe(()=>this.close())}createPopupPositionStrategy(){return this.overlay.position().flexibleConnectedTo(this._dtInput.elementRef).withTransformOriginOn(".owl-dt-container").withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-176},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-352}])}};n.\u0275fac=function(t){return new(t||n)(m(Z),m(Ze),m(qn),m(me),m(W),m(j,8),m(Gn),m(le,8),m(Ve,8))},n.\u0275cmp=D({type:n,selectors:[["owl-date-time"]],inputs:{backdropClass:"backdropClass",panelClass:"panelClass",startAt:"startAt",endAt:"endAt",pickerType:"pickerType",pickerMode:"pickerMode",disabled:"disabled",opened:"opened",scrollStrategy:"scrollStrategy"},outputs:{afterPickerClosed:"afterPickerClosed",beforePickerOpen:"beforePickerOpen",afterPickerOpen:"afterPickerOpen",yearSelected:"yearSelected",monthSelected:"monthSelected",dateSelected:"dateSelected"},exportAs:["owlDateTime"],features:[Xe],decls:0,vars:0,template:function(t,i){},changeDetection:0});let a=n;return a})(),Ar={provide:Re,useExisting:Me(()=>yt),multi:!0},Or={provide:Hi,useExisting:Me(()=>yt),multi:!0},yt=(()=>{let n=class n{get required(){return this._required}set required(e){this._required=e===""||e,this.validatorOnChange()}set owlDateTime(e){this.registerDateTimePicker(e)}set owlDateTimeFilter(e){this._dateTimeFilter=e,this.validatorOnChange()}get dateTimeFilter(){return this._dateTimeFilter}get disabled(){return!!this._disabled}set disabled(e){let t=fe(e),i=this.elmRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.disabledChange.emit(t)),t&&i.blur&&i.blur()}get min(){return this._min}set min(e){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.validatorOnChange()}get max(){return this._max}set max(e){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.validatorOnChange()}get selectMode(){return this._selectMode}set selectMode(e){if(e!=="single"&&e!=="range"&&e!=="rangeFrom"&&e!=="rangeTo")throw Error("OwlDateTime Error: invalid selectMode value!");this._selectMode=e}get value(){return this._value}set value(e){e=this.dateTimeAdapter.deserialize(e),this.lastValueValid=!e||this.dateTimeAdapter.isValid(e),e=this.getValidDate(e);let t=this._value;this._value=e,this.formatNativeInputValue(),this.dateTimeAdapter.isEqual(t,e)||this.valueChange.emit(e)}get values(){return this._values}set values(e){e&&e.length>0?(this._values=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.lastValueValid=(!this._values[0]||this.dateTimeAdapter.isValid(this._values[0]))&&(!this._values[1]||this.dateTimeAdapter.isValid(this._values[1]))):(this._values=[],this.lastValueValid=!0),this.formatNativeInputValue(),this.valueChange.emit(this._values)}get elementRef(){return this.elmRef}get isInSingleMode(){return this._selectMode==="single"}get isInRangeMode(){return this._selectMode==="range"||this._selectMode==="rangeFrom"||this._selectMode==="rangeTo"}get owlDateTimeInputAriaHaspopup(){return!0}get owlDateTimeInputAriaOwns(){return this.dtPicker.opened&&this.dtPicker.id||null}get minIso8601(){return this.min?this.dateTimeAdapter.toIso8601(this.min):null}get maxIso8601(){return this.max?this.dateTimeAdapter.toIso8601(this.max):null}get owlDateTimeInputDisabled(){return this.disabled}constructor(e,t,i,r){if(this.elmRef=e,this.renderer=t,this.dateTimeAdapter=i,this.dateTimeFormats=r,this._selectMode="single",this.rangeSeparator="-",this._values=[],this.dateTimeChange=new _,this.dateTimeInput=new _,this.dtPickerSub=A.EMPTY,this.localeSub=A.EMPTY,this.lastValueValid=!0,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.validatorOnChange=()=>{},this.parseValidator=()=>this.lastValueValid?null:{owlDateTimeParse:{text:this.elmRef.nativeElement.value}},this.minValidator=o=>{if(this.isInSingleMode){let h=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this.min||!h||this.dateTimeAdapter.compare(this.min,h)<=0?null:{owlDateTimeMin:{min:this.min,actual:h}}}else if(this.isInRangeMode&&o.value){let h=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),g=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!this.min||!h||!g||this.dateTimeAdapter.compare(this.min,h)<=0?null:{owlDateTimeMin:{min:this.min,actual:[h,g]}}}},this.maxValidator=o=>{if(this.isInSingleMode){let h=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this.max||!h||this.dateTimeAdapter.compare(this.max,h)>=0?null:{owlDateTimeMax:{max:this.max,actual:h}}}else if(this.isInRangeMode&&o.value){let h=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),g=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!this.max||!h||!g||this.dateTimeAdapter.compare(this.max,g)>=0?null:{owlDateTimeMax:{max:this.max,actual:[h,g]}}}},this.filterValidator=o=>{let h=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this._dateTimeFilter||!h||this._dateTimeFilter(h)?null:{owlDateTimeFilter:!0}},this.rangeValidator=o=>{if(this.isInSingleMode||!o.value)return null;let h=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),g=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!h||!g||this.dateTimeAdapter.compare(h,g)<=0?null:{owlDateTimeRange:!0}},this.requiredRangeValidator=o=>{if(this.isInSingleMode||!o.value||!this.required)return null;let h=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),g=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!h||!g?{owlRequiredDateTimeRange:[h,g]}:null},this.validator=Le.compose([this.parseValidator,this.minValidator,this.maxValidator,this.filterValidator,this.rangeValidator,this.requiredRangeValidator]),this.valueChange=new _,this.disabledChange=new _,!this.dateTimeAdapter)throw Error("OwlDateTimePicker: No provider found for DateTimePicker. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");if(!this.dateTimeFormats)throw Error("OwlDateTimePicker: No provider found for OWL_DATE_TIME_FORMATS. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.value=this.value})}ngOnInit(){if(!this.dtPicker)throw Error("OwlDateTimePicker: the picker input doesn't have any associated owl-date-time component")}ngAfterContentInit(){this.dtPickerSub=this.dtPicker.confirmSelectedChange.subscribe(e=>{Array.isArray(e)?this.values=e:this.value=e,this.onModelChange(e),this.onModelTouched(),this.dateTimeChange.emit({source:this,value:e,input:this.elmRef.nativeElement}),this.dateTimeInput.emit({source:this,value:e,input:this.elmRef.nativeElement})})}ngOnDestroy(){this.dtPickerSub.unsubscribe(),this.localeSub.unsubscribe(),this.valueChange.complete(),this.disabledChange.complete()}writeValue(e){this.isInSingleMode?this.value=e:this.values=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.validator?this.validator(e):null}registerOnValidatorChange(e){this.validatorOnChange=e}handleKeydownOnHost(e){e.altKey&&e.keyCode===40&&(this.dtPicker.open(),e.preventDefault())}handleBlurOnHost(e){this.onModelTouched()}handleInputOnHost(e){let t=e.target.value;this._selectMode==="single"?this.changeInputInSingleMode(t):this._selectMode==="range"?this.changeInputInRangeMode(t):this.changeInputInRangeFromToMode(t)}handleChangeOnHost(e){let t;this.isInSingleMode?t=this.value:this.isInRangeMode&&(t=this.values),this.dateTimeChange.emit({source:this,value:t,input:this.elmRef.nativeElement})}formatNativeInputValue(){if(this.isInSingleMode)this.renderer.setProperty(this.elmRef.nativeElement,"value",this._value?this.dateTimeAdapter.format(this._value,this.dtPicker.formatString):"");else if(this.isInRangeMode)if(this._values&&this.values.length>0){let e=this._values[0],t=this._values[1],i=e?this.dateTimeAdapter.format(e,this.dtPicker.formatString):"",r=t?this.dateTimeAdapter.format(t,this.dtPicker.formatString):"";!i&&!r?this.renderer.setProperty(this.elmRef.nativeElement,"value",null):this._selectMode==="range"?this.renderer.setProperty(this.elmRef.nativeElement,"value",i+" "+this.rangeSeparator+" "+r):this._selectMode==="rangeFrom"?this.renderer.setProperty(this.elmRef.nativeElement,"value",i):this._selectMode==="rangeTo"&&this.renderer.setProperty(this.elmRef.nativeElement,"value",r)}else this.renderer.setProperty(this.elmRef.nativeElement,"value","")}registerDateTimePicker(e){e&&(this.dtPicker=e,this.dtPicker.registerInput(this))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null}convertTimeStringToDateTimeString(e,t){if(e){let i=t||this.dateTimeAdapter.now();return this.dateTimeAdapter.format(i,this.dateTimeFormats.datePickerInput)+" "+e}else return null}changeInputInSingleMode(e){let t=e;this.dtPicker.pickerType==="timer"&&(t=this.convertTimeStringToDateTimeString(t,this.value));let i=this.dateTimeAdapter.parse(t,this.dateTimeFormats.parseInput);this.lastValueValid=!i||this.dateTimeAdapter.isValid(i),i=this.getValidDate(i),(!this.isSameValue(i,this._value)||i===null)&&(this._value=i,this.valueChange.emit(i),this.onModelChange(i),this.dateTimeInput.emit({source:this,value:i,input:this.elmRef.nativeElement}))}changeInputInRangeFromToMode(e){let t=this._selectMode==="rangeFrom"?this._values[0]:this._values[1];this.dtPicker.pickerType==="timer"&&(e=this.convertTimeStringToDateTimeString(e,t));let i=this.dateTimeAdapter.parse(e,this.dateTimeFormats.parseInput);this.lastValueValid=!i||this.dateTimeAdapter.isValid(i),i=this.getValidDate(i),!(this._selectMode==="rangeFrom"&&this.isSameValue(i,this._values[0])&&i||this._selectMode==="rangeTo"&&this.isSameValue(i,this._values[1])&&i)&&(this._values=this._selectMode==="rangeFrom"?[i,this._values[1]]:[this._values[0],i],this.valueChange.emit(this._values),this.onModelChange(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}changeInputInRangeMode(e){let t=e.split(this.rangeSeparator),i=t[0],r=t[1];this.dtPicker.pickerType==="timer"&&(i=this.convertTimeStringToDateTimeString(i,this.values[0]),r=this.convertTimeStringToDateTimeString(r,this.values[1]));let o=this.dateTimeAdapter.parse(i,this.dateTimeFormats.parseInput),h=this.dateTimeAdapter.parse(r,this.dateTimeFormats.parseInput);this.lastValueValid=(!o||this.dateTimeAdapter.isValid(o))&&(!h||this.dateTimeAdapter.isValid(h)),o=this.getValidDate(o),h=this.getValidDate(h),(!this.isSameValue(o,this._values[0])||!this.isSameValue(h,this._values[1])||o===null&&h===null)&&(this._values=[o,h],this.valueChange.emit(this._values),this.onModelChange(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}isSameValue(e,t){return e&&t?this.dateTimeAdapter.compare(e,t)===0:e===t}};n.\u0275fac=function(t){return new(t||n)(m(J),m(Xt),m(j,8),m(le,8))},n.\u0275dir=Ce({type:n,selectors:[["input","owlDateTime",""]],hostVars:5,hostBindings:function(t,i){t&1&&C("keydown",function(o){return i.handleKeydownOnHost(o)})("blur",function(o){return i.handleBlurOnHost(o)})("input",function(o){return i.handleInputOnHost(o)})("change",function(o){return i.handleChangeOnHost(o)}),t&2&&(ni("disabled",i.owlDateTimeInputDisabled),S("aria-haspopup",i.owlDateTimeInputAriaHaspopup)("aria-owns",i.owlDateTimeInputAriaOwns)("min",i.minIso8601)("max",i.maxIso8601))},inputs:{required:"required",owlDateTime:"owlDateTime",owlDateTimeFilter:"owlDateTimeFilter",_disabled:"_disabled",min:"min",max:"max",selectMode:"selectMode",rangeSeparator:"rangeSeparator",value:"value",values:"values"},outputs:{dateTimeChange:"dateTimeChange",dateTimeInput:"dateTimeInput"},exportAs:["owlDateTimeInput"],features:[re([Ar,Or])]});let a=n;return a})();var Ir={provide:Re,useExisting:Me(()=>xr),multi:!0},xr=(()=>{let n=class n extends zn{get pickerType(){return this._pickerType}set pickerType(e){e!==this._pickerType&&(this._pickerType=e)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=fe(e)}get selectMode(){return this._selectMode}set selectMode(e){if(e!=="single"&&e!=="range"&&e!=="rangeFrom"&&e!=="rangeTo")throw Error("OwlDateTime Error: invalid selectMode value!");this._selectMode=e}get startAt(){return this._startAt?this._startAt:this.selectMode==="single"?this.value||null:this.selectMode==="range"||this.selectMode==="rangeFrom"?this.values[0]||null:this.selectMode==="rangeTo"&&this.values[1]||null}set startAt(e){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get endAt(){return this._endAt?this._endAt:this.selectMode==="single"?this.value||null:(this.selectMode==="range"||this.selectMode==="rangeFrom")&&this.values[1]||null}set endAt(e){this._endAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(e){this._dateTimeFilter=e}get minDateTime(){return this._min||null}set minDateTime(e){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.changeDetector.markForCheck()}get maxDateTime(){return this._max||null}set maxDateTime(e){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.changeDetector.markForCheck()}get value(){return this._value}set value(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._value=e,this.selected=e}get values(){return this._values}set values(e){e&&e.length>0?(e=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),t?this.dateTimeAdapter.clone(t):null)),this._values=[...e],this.selecteds=[...e]):(this._values=[],this.selecteds=[])}get selected(){return this._selected}set selected(e){this._selected=e,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e,this.changeDetector.markForCheck()}get opened(){return!0}get pickerMode(){return"inline"}get isInSingleMode(){return this._selectMode==="single"}get isInRangeMode(){return this._selectMode==="range"||this._selectMode==="rangeFrom"||this._selectMode==="rangeTo"}get owlDTInlineClass(){return!0}constructor(e,t,i){super(t,i),this.changeDetector=e,this.dateTimeAdapter=t,this.dateTimeFormats=i,this._pickerType="both",this._disabled=!1,this._selectMode="single",this._values=[],this.yearSelected=new _,this.monthSelected=new _,this.dateSelected=new _,this._selecteds=[],this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.container.picker=this}writeValue(e){this.isInSingleMode?(this.value=e,this.container.pickerMoment=e):(this.values=e,this.container.pickerMoment=this._values[this.container.activeSelectedIndex])}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}select(e){this.disabled||(Array.isArray(e)?this.values=[...e]:this.value=e,this.onModelChange(e),this.onModelTouched())}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}selectDate(e){this.dateSelected.emit(e)}};n.\u0275fac=function(t){return new(t||n)(m(W),m(j,8),m(le,8))},n.\u0275cmp=D({type:n,selectors:[["owl-date-time-inline"]],viewQuery:function(t,i){if(t&1&&B(Mt,7),t&2){let r;F(r=R())&&(i.container=r.first)}},hostVars:2,hostBindings:function(t,i){t&2&&E("owl-dt-inline",i.owlDTInlineClass)},inputs:{pickerType:"pickerType",disabled:"disabled",selectMode:"selectMode",startAt:"startAt",endAt:"endAt",dateTimeFilter:[0,"owlDateTimeFilter","dateTimeFilter"],minDateTime:[0,"min","minDateTime"],maxDateTime:[0,"max","maxDateTime"],value:"value",values:"values"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",dateSelected:"dateSelected"},features:[re([Ir]),Xe],decls:1,vars:0,template:function(t,i){t&1&&y(0,"owl-date-time-container")},dependencies:[Mt],changeDetection:0});let a=n;return a})(),Vr=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=he({type:n}),n.\u0275inj=ce({providers:[Dr,qn],imports:[Ee,xt,Be,Xi]});let a=n;return a})(),Kn=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=he({type:n}),n.\u0275inj=ce({providers:[We,Sr,...cr],imports:[Ee,Be,Vr,xt]});let a=n;return a})();function wt(a,n){let s=Array(a);for(let e=0;e<a;e++)s[e]=n(e);return s}function Pr(a,n,s,e=0,t=0,i=0){if(n<0||n>11)throw Error(`Invalid month index "${n}". Month index has to be between 0 and 11.`);if(s<1)throw Error(`Invalid date "${s}". Date has to be greater than 0.`);if(e<0||e>23)throw Error(`Invalid hours "${e}". Hours has to be between 0 and 23.`);if(t<0||t>59)throw Error(`Invalid minutes "${t}". Minutes has to between 0 and 59.`);if(i<0||i>59)throw Error(`Invalid seconds "${i}". Seconds has to be between 0 and 59.`);let r=Un(a,n,s,e,t,i);if(r.getMonth()!==n)throw Error(`Invalid date "${s}" for month with index "${n}".`);return r}function Er(a){return Un(a.getFullYear(),a.getMonth()+1,0).getDate()}function Un(a,n,s,e=0,t=0,i=0){let r=new Date(a,n,s,e,t,i);return a>=0&&a<100&&r.setFullYear(r.getFullYear()-1900),r}var He=typeof Intl<"u",Fr={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Rr={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Lr=wt(31,a=>String(a+1)),Yr=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:[+\-]\d{2}:\d{2}))?)?$/,Br=(()=>{let n=class n extends j{constructor(e,t){super(),this.owlDateTimeLocale=e,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDay(e){return e.getDay()}getDate(e){return e.getDate()}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}getTime(e){return e.getTime()}getNumDaysInMonth(e){return Er(e)}differenceInCalendarDays(e,t){if(this.isValid(e)&&this.isValid(t)){let i=this.createDate(this.getYear(e),this.getMonth(e),this.getDate(e)),r=this.createDate(this.getYear(t),this.getMonth(t),this.getDate(t)),o=this.getTime(i)-i.getTimezoneOffset()*this.milliseondsInMinute,h=this.getTime(r)-r.getTimezoneOffset()*this.milliseondsInMinute;return Math.round((o-h)/this.millisecondsInDay)}else return null}getYearName(e){if(He){let t=new Intl.DateTimeFormat(this.getLocale(),{year:"numeric",timeZone:"utc"});return this.stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getMonthNames(e){if(He){let t=new Intl.DateTimeFormat(this.getLocale(),{month:e,timeZone:"utc"});return wt(12,i=>this.stripDirectionalityCharacters(this._format(t,new Date(2017,i,1))))}return Fr[e]}getDayOfWeekNames(e){if(He){let t=new Intl.DateTimeFormat(this.getLocale(),{weekday:e,timeZone:"utc"});return wt(7,i=>this.stripDirectionalityCharacters(this._format(t,new Date(2017,0,i+1))))}return Rr[e]}getDateNames(){if(He){let e=new Intl.DateTimeFormat(this.getLocale(),{day:"numeric",timeZone:"utc"});return wt(31,t=>this.stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return Lr}toIso8601(e){return e.toISOString()}isEqual(e,t){return this.isValid(e)&&this.isValid(t)?e.getTime()===t.getTime():!1}isSameDay(e,t){if(this.isValid(e)&&this.isValid(t)){let i=this.clone(e),r=this.clone(t);return i.setHours(0,0,0,0),r.setHours(0,0,0,0),i.getTime()===r.getTime()}else return!1}isValid(e){return e&&!isNaN(e.getTime())}invalid(){return new Date(NaN)}isDateInstance(e){return e instanceof Date}addCalendarYears(e,t){return this.addCalendarMonths(e,t*12)}addCalendarMonths(e,t){let i=this.clone(e);t=Number(t);let r=i.getMonth()+t,o=new Date(0);o.setFullYear(i.getFullYear(),r,1),o.setHours(0,0,0,0);let h=this.getNumDaysInMonth(o);return i.setMonth(r,Math.min(h,i.getDate())),i}addCalendarDays(e,t){let i=this.clone(e);return t=Number(t),i.setDate(i.getDate()+t),i}setHours(e,t){let i=this.clone(e);return i.setHours(t),i}setMinutes(e,t){let i=this.clone(e);return i.setMinutes(t),i}setSeconds(e,t){let i=this.clone(e);return i.setSeconds(t),i}createDate(e,t,i,r=0,o=0,h=0){return Pr(e,t,i,r,o,h)}clone(e){return this.createDate(this.getYear(e),this.getMonth(e),this.getDate(e),this.getHours(e),this.getMinutes(e),this.getSeconds(e))}now(){return new Date}format(e,t){if(!this.isValid(e))throw Error("JSNativeDate: Cannot format invalid date.");if(He){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e),e.setFullYear(Math.max(1,Math.min(9999,e.getFullYear())))),t=qt($t({},t),{timeZone:"utc"});let i=new Intl.DateTimeFormat(this.getLocale(),t);return this.stripDirectionalityCharacters(this._format(i,e))}return this.stripDirectionalityCharacters(e.toDateString())}parse(e,t){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}deserialize(e){if(typeof e=="string"){if(!e)return null;if(Yr.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){let i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(i)}};n.\u0275fac=function(t){return new(t||n)(X(rr,8),X(nt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac});let a=n;return a})(),Hr={parseInput:null,fullPickerInput:{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},datePickerInput:{year:"numeric",month:"numeric",day:"numeric"},timePickerInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}},Nr=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=he({type:n}),n.\u0275inj=ce({providers:[{provide:j,useClass:Br}],imports:[yi]});let a=n;return a})(),Zn=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=he({type:n}),n.\u0275inj=ce({providers:[{provide:le,useValue:Hr}],imports:[Nr]});let a=n;return a})();var Xn=(a,n)=>n.id;function jr(a,n){if(a&1&&(l(0,"mat-option",10),u(1),d()),a&2){let s=n.$implicit;p("value",s.city),c(),V(s.city)}}function zr(a,n){a&1&&(l(0,"mat-error"),u(1,"Required"),d())}function $r(a,n){if(a&1&&(l(0,"mat-option",10),u(1),d()),a&2){let s=n.$implicit;p("value",s.city),c(),V(s.city)}}function qr(a,n){a&1&&(l(0,"mat-error"),u(1,"Required"),d())}var Jn=(()=>{let n=class n{constructor(e){this.snackBarService=e,this.stations=q.required(),this.currentDateTime=new Date(new Date().setSeconds(0,0)),this.searchStore=I(ve),this.formBuilder=I(qi),this.searchForm=this.formBuilder.nonNullable.group({from:["",Le.required],to:["",Le.required],date:[this.currentDateTime]})}get from(){return this.searchForm.get("from")}get to(){return this.searchForm.get("to")}get date(){return this.searchForm.get("date")}swapValue(){this.searchForm.patchValue({from:this.to.value,to:this.from.value})}async onSubmit(){let e=this.stations().find(({city:o})=>o===this.from.value),t=this.stations().find(({city:o})=>o===this.to.value),i=this.date.value.getTime();i<Date.now()&&(i=Date.now());let r={fromLatitude:e?.latitude??0,fromLongitude:e?.longitude??0,toLatitude:t?.latitude??0,toLongitude:t?.longitude??0,time:i/1e3};await this.searchStore.searchRoutes(r).catch(o=>{this.snackBarService.displayError(o)})}stationsAutocomplete(e){let t=e.toLowerCase();return this.stations().filter(({city:i})=>i.toLowerCase().includes(t))}};n.\u0275fac=function(t){return new(t||n)(m(rn))},n.\u0275cmp=D({type:n,selectors:[["app-search-form"]],inputs:{stations:[1,"stations"]},standalone:!0,features:[re([xi()]),H],decls:36,vars:10,consts:[["fromInput",""],["autoFrom","matAutocomplete"],["toInput",""],["autoTo","matAutocomplete"],["datetime",""],[1,"form",3,"ngSubmit","formGroup"],[1,"form-stations"],["appearance","outline",1,"form-field"],["matInput","","formControlName","from","type","text","name","from","placeholder","From","aria-label","From",3,"matAutocomplete"],["matPrefix",""],[3,"value"],[1,"form-swap-wrapper"],["type","button","mat-mini-fab","",1,"form-swap",3,"click","disabled"],["matInput","","formControlName","to","type","text","name","to","placeholder","To","aria-label","To",3,"matAutocomplete"],[1,"form-date"],["appearance","outline"],["matInput","","name","datetime","formControlName","date","placeholder","Date","readonly","",3,"owlDateTime","min"],["matPrefix","","mat-icon-button","","type","button",1,"trigger",3,"owlDateTimeTrigger"],["mat-flat-button","","type","submit",1,"form-control",3,"disabled"]],template:function(t,i){if(t&1){let r=x();l(0,"form",5),C("ngSubmit",function(){return w(r),M(i.onSubmit())}),l(1,"div",6)(2,"mat-form-field",7),y(3,"input",8,0),l(5,"mat-icon",9),u(6," radio_button_checked "),d(),l(7,"mat-autocomplete",null,1),ee(9,jr,2,2,"mat-option",10,Xn),d(),T(11,zr,2,0,"mat-error"),d(),l(12,"div",11)(13,"button",12),C("click",function(){return w(r),M(i.swapValue())}),l(14,"mat-icon"),u(15,"swap_horiz"),d()()(),l(16,"mat-form-field",7),y(17,"input",13,2),l(19,"mat-icon",9),u(20," fiber_manual_record "),d(),l(21,"mat-autocomplete",null,3),ee(23,$r,2,2,"mat-option",10,Xn),d(),T(25,qr,2,0,"mat-error"),d()(),l(26,"div",14)(27,"mat-form-field",15),y(28,"input",16),l(29,"button",17)(30,"mat-icon"),u(31,"today"),d()(),y(32,"owl-date-time",null,4),d()(),l(34,"button",18),u(35," Search "),d()()}if(t&2){let r=Q(4),o=Q(8),h=Q(18),g=Q(22),k=Q(33);p("formGroup",i.searchForm),c(3),p("matAutocomplete",o),c(6),te(i.stationsAutocomplete(r.value)),c(2),Y(i.from.hasError("required")?11:-1),c(2),p("disabled",!i.from.value&&!i.to.value),c(4),p("matAutocomplete",g),c(6),te(i.stationsAutocomplete(h.value)),c(2),Y(i.to.hasError("required")?25:-1),c(3),p("owlDateTime",k)("min",i.currentDateTime),c(),p("owlDateTimeTrigger",k),c(5),p("disabled",i.searchForm.invalid)}},dependencies:[Gi,ji,Bi,Ni,Wi,zi,$i,yn,Mn,Cn,Dn,ot,lt,se,Li,Vn,In,st,Yt,Kn,jn,yt,Qn,Zn],styles:["[_nghost-%COMP%]   .form[_ngcontent-%COMP%]{width:70rem;display:flex;flex-direction:row;align-items:center;gap:1.3rem;margin-block-start:1rem;margin-inline:auto}[_nghost-%COMP%]   .form-stations[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;width:100%}[_nghost-%COMP%]   .form-stations[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .form-stations[_ngcontent-%COMP%]   .form-swap-wrapper[_ngcontent-%COMP%]{position:relative;z-index:1}[_nghost-%COMP%]   .form-stations[_ngcontent-%COMP%]   .form-swap-wrapper[_ngcontent-%COMP%]   .form-swap[_ngcontent-%COMP%]{position:absolute;top:-1.8rem;left:-1.3rem;cursor:pointer}@media (max-width: 576px){[_nghost-%COMP%]   .form-stations[_ngcontent-%COMP%]{flex-direction:column;gap:0}}[_nghost-%COMP%]   .form-date[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:15rem}[_nghost-%COMP%]   .form-date[_ngcontent-%COMP%]   .form-time[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .form-date[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{margin-top:5px;height:56px;width:200px}@media (max-width: 992px){[_nghost-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;gap:0rem;margin:1rem 0;flex-direction:column}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   .form-date[_ngcontent-%COMP%]{width:100%}}[_nghost-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:.5rem;transform:translateY(-25%)}"],changeDetection:0});let a=n;return a})();function Gr(a,n){a&1&&y(0,"app-spinner",2),a&2&&p("loadText","Loading...")}function Qr(a,n){if(a&1&&y(0,"app-search-filter",4),a&2){let s=f(2);p("dates",s.dates())}}function Kr(a,n){if(a&1&&(T(0,Qr,1,1,"app-search-filter",4),y(1,"app-search-cards",3)),a&2){let s=f();Y(s.dates().length?0:-1),c(),p("cards",s.filteredCards())}}var sl=(()=>{let n=class n{constructor(){this.stationStore=I(sn),this.searchStore=I(ve),this.stations=this.stationStore.stationsEntities,this.isLoading=this.searchStore.isLoading,this.cards=tt(()=>{let e=this.stationStore.stationsEntityMap();return this.searchStore.searchEntities().map(t=>{let i=t,r=t.rideRoute.filter(o=>e[o.stationId]).map(o=>{let h=o;return h.stationName=e[o.stationId].city,h});return i.rideRoute=r,i})}),this.dates=tt(()=>[...new Set(this.cards().map(({rideFrom:e})=>new Date(e.time).setHours(0,0,0,0)))].sort((e,t)=>e-t)),this.hasSearched=this.searchStore.hasSearched,this.filteredCards=tt(()=>this.searchStore.searchEntities().filter(({rideFrom:e})=>!this.searchStore.time()||new Date(e.time).setHours(0,0,0,0)===this.searchStore.time()))}ngOnInit(){this.stationStore.getStations()}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=D({type:n,selectors:[["app-search"]],standalone:!0,features:[H],decls:4,vars:2,consts:[[1,"wrapper"],[3,"stations"],[3,"loadText"],[3,"cards"],[3,"dates"]],template:function(t,i){t&1&&(l(0,"div",0),y(1,"app-search-form",1),T(2,Gr,1,1,"app-spinner",2)(3,Kr,2,2,"app-search-cards",3),d()),t&2&&(c(),p("stations",i.stations()),c(),Y(i.isLoading()?2:i.hasSearched()?3:-1))},dependencies:[Jn,Sn,An,on],styles:["[_nghost-%COMP%]{display:flex}@media (min-width: 992px){[_nghost-%COMP%]{margin:0 100px}}[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{min-height:90vh;gap:1rem;width:100%}"],changeDetection:0});let a=n;return a})();export{sl as SearchComponent};

import{j as d}from"./chunk-PZQC65FW.js";import{S as t,T as n,V as m,W as c,_ as s,ba as l}from"./chunk-EVOHVUKJ.js";import{ka as a}from"./chunk-MTQVXK5S.js";var r={entity:void 0,collection:"search",selectId:e=>e.rideId};var g={time:0,hasSearched:!1,isLoading:!1},I=n({providedIn:"root"},c(g),l(r),m((e,f=a(d))=>({async searchRoutes(i){t(e,{isLoading:!0}),this.setFilter(0);let h=(await f.getAvailableRoutes(i)).filter(o=>o.rideFrom.time.getTime()/1e3>=i.time).sort((o,p)=>o.rideFrom.time.getTime()-p.rideFrom.time.getTime());t(e,s(h,r)),t(e,{hasSearched:!0}),t(e,{isLoading:!1})},setFilter(i){t(e,{time:i})},clear(){t(e,s([],r))}})));export{I as a};
